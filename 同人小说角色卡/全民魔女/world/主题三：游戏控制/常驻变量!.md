# 常驻变量 (Persistent Variables)

**重要说明**: 
*   本文件定义了在整个游戏过程中持续追踪和更新的核心变量。这些变量反映了玩家状态、角色关系和世界状态的变化。
*   AI在生成回应时，应参考这些变量的当前值，以确保叙事的一致性和角色的动态反应。
*   变量的更新通常由玩家的行动、关键剧情事件或特定的AI逻辑触发（详见"常驻变量控制"）。
*   变量名中的`{{user}}`代表玩家。
*   初始值将根据游戏开局设定（详见"主题六：开局"）。

## 1. 玩家状态变量 (`{{user}}`)

*   **`{{user}}_魔女等级`**: (字符串) - 描述玩家当前的魔女评级或实力层次。
    *   例如: "见习魔女", "正式魔女", "精英魔女", "大魔女雏鸟"
    *   影响: NPC态度、可接任务、部分魔法威力/效果。
*   **`{{user}}_魔力状态`**: (字符串) - 描述玩家当前的魔力水平或疲劳度。
    *   例如: "充沛", "平稳", "略有消耗", "接近枯竭", "魔力透支"
    *   影响: 施法成功率、可使用魔法强度/次数、身体状态描述。
*   **`{{user}}_精神状态`**: (字符串) - 描述玩家当前的心智稳定程度。
    *   例如: "稳定", "疲惫", "压力过大", "受到精神干扰", "心智崩溃边缘", "轻度魔力侵蚀"
    *   影响: 行为决策、对话风格、对特定事件的反应、魔法控制精度、被特定魔法影响的程度。
*   **`{{user}}_声望_魔女之家`**: (数值，例如 0-100) - 玩家在魔女之家内部的声誉。
    *   影响: NPC态度、任务获取、资源获取便利度、特权。
*   **`{{user}}_声望_特定组织`**: (数值，可选) - 玩家在特定组织（如某个魔女家族、秘密社团）中的声望。
*   **`{{user}}_阵营倾向`**: (字符串) - 描述玩家更倾向于哪个势力或理念。
    *   例如: "中立", "倾向魔女之家秩序", "倾向个人自由", "倾向<某个组织>", "混乱"
    *   影响: 特定NPC关系变化、剧情分支选择。
*   **`{{user}}_掌握的关键魔法`**: (列表/数组) - 记录玩家已学会的重要或独特的魔法/能力。
    *   例如: ["猫灯变身", "基础元素操控", "精神屏障"]
    *   影响: 解决问题的方式、战斗能力、特定剧情互动。
*   **`{{user}}_持有的关键道具`**: (列表/数组) - 记录玩家拥有的对剧情或能力有重要影响的物品。
    *   例如: ["古老的魔导书残页", "希斯特利亚的信物", "杜灵璇的借据"]
    *   影响: 特定剧情触发、解锁特殊互动、能力增强。
*   **`{{user}}_身体状态`**: (字符串) - 描述玩家当前的身体健康状况。
    *   例如: "健康", "轻伤", "重伤", "中毒", "受到诅咒"
    *   影响: 行动能力、魔力恢复速度、部分魔法效果。

## 2. 角色关系变量

*   **`[角色名]_好感度`**: (数值，例如 -100 到 100) - 该角色对玩家的个人喜好程度。
    *   例如: `江涵_好感度`, `杜灵璇_好感度`, `安洁_好感度`, `艾琳_好感度`, `李莉_好感度`, `陈丽谷_好感度`, `希斯特利亚_好感度`, `奥维利亚_好感度`
    *   影响: 对话态度、是否愿意提供帮助、触发个人剧情、NSFW互动可能性。
*   **`[角色名]_关系状态`**: (字符串) - 描述该角色与玩家的当前主要关系定义。
    *   例如: "陌生人", "认识", "普通同事/同学", "朋友", "竞争对手", "盟友", "师生", "恋人", "敌人", "主从 (性奴妻子/母狗性奴等)"
    *   影响: 互动模式、对话内容、角色行为逻辑、剧情走向。
*   **`[角色名]_信任度`**: (数值，例如 0-100) - 该角色对玩家的信任程度。
    *   影响: 是否愿意分享秘密、委托重要任务、在关键时刻的支持度。
*   **`[角色名]_影响力`**: (数值，例如 0-100，可选) - 玩家对该角色思想或行为的影响力。

## 3. 世界状态变量

*   **`当前时间段`**: (字符串) - 描述当前的大致时间。
    *   例如: "清晨", "上午", "中午", "下午", "傍晚", "夜晚", "深夜"
    *   影响: NPC作息、特定事件触发、环境描述、光照条件。
*   **`当前日期`**: (字符串/数值，可选) - 记录具体日期，用于驱动较长线的事件。
*   **`世界局势`**: (字符串) - 描述当前宏观世界的整体氛围或状态。
    *   例如: "和平稳定", "暗流涌动", "冲突加剧", "战争边缘", "灾难降临"
    *   影响: 大地图事件、NPC普遍情绪、资源获取难度、任务类型。
*   **`魔女之家_警戒等级`**: (字符串/数值) - 魔女之家当前的安保或戒备状态。
    *   例如: "常规", "加强戒备", "高度警戒", "封锁"
    *   影响: NPC巡逻频率、区域访问限制、任务氛围。
*   **`当前主线剧情阶段`**: (字符串/数值) - 标识当前故事进展到的主要阶段。
    *   例如: "序章：初入魔女之家", "第一章：猫灯的秘密", "第二章：暗影中的组织"
    *   影响: 开放区域、可接触NPC、主要任务线。
*   **`特定地点状态`**: (对象/字典，可选) - 记录关键地点的特殊状态。
    *   例如: `{"禁忌图书馆": "封印中", "废弃工厂": "调查中"}`
    *   影响: 地点探索可能性、触发特殊遭遇。

**后续说明**: 
*   "分阶段变量表现"将详细说明这些变量在不同数值或状态下，应如何在AI的回应（尤其是角色对话和行为）中具体体现。
*   "常驻变量控制"将定义更新这些变量的具体规则和触发条件。 