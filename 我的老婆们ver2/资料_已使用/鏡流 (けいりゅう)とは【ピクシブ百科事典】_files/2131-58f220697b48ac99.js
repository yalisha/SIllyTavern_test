"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2131],{9840:function(e,t,n){let l;n.d(t,{ZP:function(){return y}});var r,a,i=n(85893),s=n(67294),o=n(10280),c=n(60032),d=n(19521),x=n(87431);let m=(0,d.iv)(["@media (hover:none) and (pointer:coarse){display:none;}"]);function p(e){let{direction:t,show:n,offset:l=0,bottomOffset:r=0,onClick:a,className:s}=e;return(0,i.jsx)(h,{hide:!n,className:s,style:{left:{left:l,marginBottom:r,paddingLeft:16},right:{right:l,marginBottom:r,paddingRight:16}}[t],children:(0,i.jsx)(x.hU,{disabled:!n,onClick:a,variant:"Overlay",icon:{right:"24/Next",left:"24/Prev"}[t]})})}(r=a||(a={})).Right="right",r.Left="left";let h=d.ZP.label.withConfig({componentId:"sc-7eed7c96-0"})(["position:absolute;display:grid;align-items:center;top:0;bottom:0;transition:0.4s visibility,0.4s opacity;cursor:pointer;"," ",""],e=>e.hide&&(0,d.iv)(["visibility:hidden;opacity:0;pointer-events:none;"]),m);var u=n(11163);let g=()=>{let e=(0,u.useRouter)().asPath,t=(0,s.useRef)(new Set),n=(0,s.useRef)(""),l=(0,s.useCallback)(()=>{e&&n.current!==e&&(t.current.clear(),n.current=e)},[e]),r=(0,s.useCallback)(e=>{l(),t.current.has(e)?console.error("[HISTORY RESTORATION]: uidが重複しています",e):t.current.add(e)},[l]);return(0,s.useEffect)(()=>{l()},[l]),{registerUid:r}},{useManager:f}=function(){let e=(0,s.createContext)({save:()=>void 0,restore:()=>null,register:()=>void 0});return{Provider:t=>{let{children:n}=t,l=(0,u.useRouter)().asPath,r=(0,s.useRef)(new Map),{registerUid:a}=g(),o=(0,s.useCallback)((e,t)=>{if(!l)return;let n=r.current.get(l)||new Map;n.set(e,t),r.current.set(l,n)},[l]),c=(0,s.useCallback)(e=>{var t;return l&&(null===(t=r.current.get(l))||void 0===t?void 0:t.get(e))||null},[l]);return(0,i.jsx)(e.Provider,{value:{register:a,save:o,restore:c},children:n})},useManager:t=>{let{register:n,save:l,restore:r}=(0,s.useContext)(e);return(0,s.useEffect)(()=>{t&&n(t)},[n,t]),{save:(0,s.useCallback)(e=>t?l(t,e):void 0,[l,t]),restore:(0,s.useCallback)(()=>t?r(t):null,[r,t])}}}}();var j=n(26499),v=n(65413);let b="--carousel-size";function y(e){let{onScroll:t,onResize:n,children:r,onScrollStateChange:o,scrollRestorationId:d,className:x,...m}=e,{save:h,restore:u}=f(d),g=(0,s.useRef)(!1),[b,y]=(0,j.D$)(0),k=(0,s.useRef)(!1),[U,R]=(0,s.useState)(0),[T,E]=(0,s.useState)(!1),[L,M]=(0,s.useState)(!1),[F,W]=(0,c.q_)(()=>({scroll:0})),H=(0,s.useRef)(null),D=(0,s.useRef)(null),O=(0,s.useCallback)(()=>{if(null===H.current)return;let{clientWidth:e}=H.current,t=Math.min(b+.75*e,U);y(t,!0),W.start({from:{scroll:b},to:{scroll:t},reset:!k.current}),k.current=!0},[b,U,y,W]),q=(0,s.useCallback)(()=>{if(null===H.current)return;let{clientWidth:e}=H.current,t=Math.max(b-.75*e,0);y(t,!0),W.start({from:{scroll:b},to:{scroll:t},reset:!k.current}),k.current=!0},[k,b,W,y]);(0,s.useEffect)(()=>{g.current&&h(b);let e=b>0,t=b<U&&U>0;(e!==T||t!==L)&&(E(e),M(t),null==o||o(e||t))},[T,U,o,L,h,b]);let V=(0,s.useCallback)(()=>{null!==H.current&&(k.current&&(W.stop(),k.current=!1),y(H.current.scrollLeft))},[k,y,W]),B=(0,s.useCallback)(()=>{if(null===H.current)return;let{clientWidth:e,scrollWidth:t}=H.current;R(t-e),n&&n(e)},[n]);(0,j.LI)(()=>{let e=H.current,t=D.current;if(null===e||null===t)return;e.addEventListener("wheel",V,function(){if(!(0,v.A)())return!1;if(void 0!==l)return l;l=!1;try{let t=Object.defineProperty({},"passive",{get:()=>l=!0});window.addEventListener("test",e,t),window.removeEventListener("test",e)}catch(e){return!1}return l;function e(){}}()&&{passive:!0});let n=new ResizeObserver(B),r=new ResizeObserver(B);return n.observe(e),r.observe(t),()=>{e.removeEventListener("wheel",V),n.disconnect(),r.disconnect()}},[B,V]),(0,s.useEffect)(()=>{let e=H.current;if(!e||0===U)return;let t=u();g.current=!0,null!==t&&(e.scrollLeft=t,g.current=!0,y(t,!0))},[W,U,u,y]);let G=(0,s.useCallback)(()=>{null!==H.current&&t&&t(H.current.scrollLeft)},[t]);return!((0,v.A)()&&navigator.userAgent.includes("Edge/"))&&m.hasGradient?(0,i.jsxs)(Z,{className:x,children:[(0,i.jsxs)(_,{ref:H,scrollLeft:F.scroll,onScroll:G,children:["",(0,i.jsx)(S,{sticky:"left"}),(0,i.jsx)(w,{ref:D,children:r}),(0,i.jsx)(P,{sticky:"right"})]}),(0,i.jsxs)(N,{children:[(0,i.jsx)(z,{direction:a.Left,show:T,offset:"max(var(--gradient-left-x), 0px)",onClick:q}),(0,i.jsx)(A,{direction:a.Right,show:L,offset:"max(var(--gradient-left-x), 0px)",onClick:O})]})]}):(0,i.jsxs)(C,{className:x,children:[(0,i.jsx)(I,{}),(0,i.jsx)(_,{disableGradient:!0,ref:H,scrollLeft:F.scroll,onScroll:G,children:(0,i.jsx)(w,{ref:D,children:r})}),(0,i.jsx)(I,{}),(0,i.jsxs)(N,{children:[(0,i.jsx)(p,{offset:"max(var(--carousel-left-x), 0px)",direction:a.Left,show:T,onClick:q}),(0,i.jsx)(p,{offset:"max(var(--carousel-left-x), 0px)",direction:a.Right,show:L,onClick:O})]})]})}let w=d.ZP.ul.withConfig({componentId:"sc-7d3c2b4e-0"})(["flex:none;display:flex;list-style:none;padding:0;margin:0;"]),N=d.ZP.div.withConfig({componentId:"sc-7d3c2b4e-1"})(["opacity:0;transition:0.4s opacity;"]),k=d.ZP.div.withConfig({componentId:"sc-7d3c2b4e-2"})([""," --columns:20;",":calc(var(--columns) * 80px + (var(--columns) - 1) * 24px);"," --carousel-left-x:calc(50% - var(",") / 2);"," --gradient-left-x:calc(var(--carousel-left-x) - ",");"," --carousel-right-x:calc(50% + var(",") / 2);"," --gradient-right-x:calc(var(--carousel-right-x) + ",");",":calc(100% - "," * 2);&:hover ","{opacity:1;}"],"",b,"",b,"",(0,o.px)(72),"",b,"",(0,o.px)(72),b,e=>(0,o.px)(e.theme.spacing[16]),N);var C=(0,d.ZP)(k).withConfig({componentId:"sc-7d3c2b4e-3"})(["display:flex;position:relative;"]),Z=(0,d.ZP)(k).withConfig({componentId:"sc-7d3c2b4e-4"})([""," position:relative;z-index:0;"],"");let _=(0,d.ZP)(c.q.div).withConfig({componentId:"sc-7d3c2b4e-5"})(["display:flex;"," overflow-x:auto;&::-webkit-scrollbar{display:none;}scrollbar-width:none;"],e=>{let{disableGradient:t=!1}=e;return!t&&(0,d.iv)(["mask-image:linear-gradient( to right,transparent,transparent max(var(--gradient-left-x),0px),#000 var(--carousel-left-x),#000 var(--carousel-right-x),transparent min(var(--gradient-right-x),100%),transparent );"])}),I=d.ZP.div.withConfig({componentId:"sc-7d3c2b4e-6"})([""," flex:none;"," width:max(50% - var(",") / 2,0px);"],e=>void 0!==e.sticky&&({left:(0,d.iv)(["position:sticky;left:0;"]),right:(0,d.iv)(["position:sticky;right:0;"])})[e.sticky],"",b);var P=(0,d.ZP)(I).withConfig({componentId:"sc-7d3c2b4e-7"})(["z-index:1;"]),S=(0,d.ZP)(I).withConfig({componentId:"sc-7d3c2b4e-8"})(["z-index:1;"]),z=(0,d.ZP)(p).withConfig({componentId:"sc-7d3c2b4e-9"})(["z-index:1;"]),A=(0,d.ZP)(p).withConfig({componentId:"sc-7d3c2b4e-10"})(["z-index:1;"])},363:function(e,t,n){n.d(t,{U:function(){return c},s:function(){return s}});var l=n(85893),r=n(67294),a=n(60032),i=n(69519);function s(e){let{children:t,isShow:n}=e,r=(0,i.d)(),s=(0,a.q_)({opacity:n?1:0,transform:n?"translateY(0%)":"translateY(-100%)"});return(0,l.jsx)(o,{className:"fixed top-0 z-10 w-full bg-background1",style:s,children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"py-16 screen1:overflow-x-scroll",children:r?t:(0,l.jsx)("div",{className:"screen1:w-[744px]",children:t})}),(0,l.jsx)("div",{className:"absolute bottom-0 h-[1px] w-full bg-[#00000014]"})]})})}let o=a.q.div;function c(){let[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(0),l=(0,r.useRef)("");return(0,r.useEffect)(()=>{let e=()=>{let e=window.location.hash;if(e!==l.current){l.current=e,t(!1),n.current=window.scrollY;return}t(window.scrollY<n.current&&window.scrollY>100),n.current=window.scrollY};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),e}},62488:function(e,t,n){n.d(t,{dn:function(){return v},ef:function(){return j},zt:function(){return b}});var l=n(85893);n(67294);var r=n(93967),a=n.n(r),i=n(53217),s=n(43205),o=n(32932),c=n(69519),d=n(17060),x=n(8370),m=n(33530),p=n(40369),h=n(79700),u=n(77209),g=n(21782);let f=a()("text-dlink","no-underline","hover:text-dlink-hover","hover:underline"),j=()=>{let{t:e}=(0,h.b)(),t=(0,c.d)(),[n]=(0,m.c)(),{data:r}=(0,d.u)(n),{encodedTagName:o}=(0,u.A)(null==r?void 0:r.tagName),{data:p}=(0,x.I)(n);return r&&p?(0,l.jsxs)("div",{className:a()("bg-background1","flex","flex-col","box-border","gap-[4px]",t?"p-16 pt-[12px]":"rounded-16 p-24"),children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between gap-[16px]",children:[(0,l.jsx)(v,{articleTagName:r.tagName,encodedTagName:o,historyDate:p.history.date}),!t&&(0,l.jsx)("div",{className:"screen2:hidden",children:(0,l.jsx)(b,{historyViewInfo:p,articleKey:n,encodedTagName:o})})]}),(0,l.jsxs)("div",{className:a()("flex","items-center","text-text2","text-14","gap-[8px]"),children:[(0,l.jsx)(i.Z,{name:"24/Person",className:"text-[#858585]"}),(0,l.jsxs)("span",{className:"line-clamp-1",children:[e("components.history.editor"),(0,l.jsx)(s.Z,{href:p.history.user.profileUrl,target:"_blank",className:f,children:p.history.user.name})]})]}),(0,l.jsxs)("div",{className:a()("flex","items-center","text-text2","text-14","gap-[8px]"),children:[(0,l.jsx)(i.Z,{name:"24/Pencil",className:"text-[#858585]"}),(0,l.jsxs)("span",{className:"line-clamp-2",children:[e("components.history.editSummary"),p.history.comment]})]}),(0,l.jsx)("div",{className:t?"":"hidden screen2:block",children:(0,l.jsx)(b,{historyViewInfo:p,articleKey:n,encodedTagName:o})})]}):null},v=e=>{let{articleTagName:t,encodedTagName:n,historyDate:r}=e,{t:i,locale:s}=(0,h.b)(),o=(0,c.d)();return(0,l.jsxs)("div",{className:a()("min-w-0 font-bold text-text1",o?"text-16":"text-20"),children:[(0,l.jsxs)("span",{className:"line-clamp-1",children:[(0,l.jsx)("a",{href:"en"===s?"/en/a/".concat(n):"/a/".concat(n),className:f,children:t}),i("pages.history.title",{tagName:""})]}),(0,l.jsx)("span",{className:"line-clamp-1",children:i("pages.history.ver",{ver:(0,p.H)(r)})})]})},b=e=>{let{historyViewInfo:t,articleKey:n,encodedTagName:r,returnToHistory:s=!0}=e,{t:d}=(0,h.b)(),x=(0,c.d)();return(0,l.jsxs)("div",{className:a()("flex",x?"flex-col gap-[8px]":"flex-row justify-between gap-[16px]"),children:[(0,l.jsxs)("div",{className:a()("flex justify-center gap-[8px]"),children:[(0,l.jsx)(o.Q,{size:x?"S":"M",fullWidth:x,href:t.prevUrl,disabled:"/history/view/"===t.prevUrl,children:(0,l.jsxs)("span",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)(i.Z,{name:"24/Prev",fixedSize:16}),d("components.history.olderVer")]})}),(0,l.jsx)(o.Q,{size:x?"S":"M",fullWidth:x,href:t.nextUrl,disabled:"/history/view/"===t.nextUrl,children:(0,l.jsxs)("span",{className:"flex items-center gap-[4px]",children:[d("components.history.newerVer"),(0,l.jsx)(i.Z,{name:"24/Next",fixedSize:16})]})}),(0,l.jsx)(o.Q,{size:x?"S":"M",fullWidth:x,href:t.latestUrl,disabled:t.latestUrl===(0,g.G3)(n),children:(0,l.jsxs)("span",{className:"flex items-center gap-[4px]",children:[d("components.history.latestVer"),(0,l.jsx)(i.Z,{name:"Inline/Latest",fixedSize:16})]})})]}),s&&(0,l.jsx)(o.Q,{size:x?"S":"M",fullWidth:x,href:(0,g.jD)(r),children:d("components.history.allHistory")})]})}},96890:function(e,t,n){n.d(t,{Z:function(){return s}});var l=n(49870),r=n(51854),a=n(36971),i=n(60182);function s(e){let t=(0,i.V)(e),{data:n,error:s}=(0,l.Z)("/_api/get_graph_data/".concat(t),r._);return(0,a.B0)(n,s,"fail in useArticleGraphData")}},8370:function(e,t,n){n.d(t,{I:function(){return s}});var l=n(49870),r=n(51854),a=n(79700),i=n(36971);function s(e){let{locale:t}=(0,a.b)(),{data:n,error:s}=(0,l.Z)("/_api/get_archive_info/".concat(e,"?lang=").concat(t),r._);return(0,i.B0)(n,s,"fail in useHistoryViewInfo")}},37395:function(e,t,n){n.d(t,{d:function(){return i}});var l=n(67294),r=n(17060),a=n(33530);function i(){let[e]=(0,a.c)(),{data:t}=(0,r.u)(e);return(0,l.useMemo)(()=>void 0===t||!t.id,[t])}},25303:function(e,t,n){n.d(t,{F:function(){return eG}});var l=n(85893),r=n(67294),a=n(93967),i=n.n(a),s=n(19521),o=n(87481),c=n(32014),d=n(49304),x=n(55160),m=n(39115),p=n(68398),h=n(11163),u=n.n(h),g=n(32932),f=n(55780),j=n(75139),v=n(87431),b=n(79700),y=(0,r.memo)(function(e){let{t}=(0,b.b)();return(0,l.jsx)(v.zx,{className:"font-bold text-text5 typography-14",onClick:e.onClick,variant:"Navigation",fullWidth:!0,children:e.children?e.children:t("pages.history.more")})}),w=n(17060),N=n(49870),k=n(51854),C=n(36971),Z=n(60182),_=n(77209),I=n(21397),P=n(21782);let S=(0,r.forwardRef)(function(e,t){let{encodedTagName:n,tagName:a}=(0,_.A)(),{data:i=[]}=function(e){let{locale:t}=(0,b.b)(),n=(0,Z.V)(e),{data:l,error:r}=(0,N.Z)("/_api/get_threads/".concat(n,"?lang=").concat(t,"&limit=").concat(3,"&offset=").concat(0),k._);return(0,C.B0)(l,r,"fail in useThreadsForArticlePage")}(a),{data:s}=(0,w.u)(n),o=(0,r.useMemo)(()=>i.length,[i]),[c,d]=(0,f.p)({type:"error"}),x=(0,r.useCallback)(e=>{(null==s?void 0:s.isEditable)===!1&&(e.preventDefault(),d("このスレッドに関する変更が制限されています"))},[s,d]);return(0,l.jsxs)("section",{ref:t,className:"mt-[36px]",children:[(0,l.jsx)("h2",{className:"mb-8 mt-0 font-bold text-text1 typography-16 preserve-half-leading",children:"スレッド"}),o<1?(0,l.jsx)("div",{className:"mt-16 flex justify-center text-text3 typography-14 preserve-half-leading",children:"スレッドがまだありません"}):(0,l.jsx)(j.W,{threads:i}),(0,l.jsx)(z,{threadLength:o,encodedTagName:n,showCreateErrorToast:x}),c]})}),z=e=>{let{threadLength:t,encodedTagName:n,showCreateErrorToast:a}=e,i=(0,r.useCallback)(()=>{u().push((0,P.K8)(n),void 0,{shallow:!0})},[n]);return(0,l.jsx)("div",{className:"mt-16 flex justify-center",children:t<3?(0,l.jsx)(g.Q,{href:(0,I.q)((0,P.K8)(n,{showCreateModal:!0})),variant:"Primary",size:"M",onClick:a,children:"スレッドを作成"}):(0,l.jsx)(y,{onClick:i,children:"すべてを見る"})})};var A=n(53217),U=n(90591);function R(e){let{onClick:t}=e,{tagName:n}=(0,_.A)(),{data:r}=(0,U.F)(n,!0);return void 0===r||0===r.count?null:(0,l.jsx)("div",{onClick:t,className:"mb-16 cursor-pointer bg-[#0000000A]",children:(0,l.jsxs)("div",{className:"flex justify-between p-8",children:[(0,l.jsx)("div",{className:"text-text2 typography-14 preserve-half-leading",children:"議論中のスレッドは".concat(r.count,"件あります")}),(0,l.jsx)(A.Z,{name:"24/ArrowDown",className:"text-[#858585]"})]})})}var T=n(69519),E=n(96890),L=n(33530),M=n(7693),F=n(29118),W=n(64715),H=n(11565),D=n(78042),O=n(67017),q=n(25615),V=n(88793),B=n(24570),G=n(31712),Y=n(98674);let K=()=>(0,l.jsx)("span",{style:{fontSize:"14px",color:"#858585"},children:"閲覧数"}),Q=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,l.jsxs)("div",{className:i()("rounded-8","py-4","px-8","w-full","bg-background1"),children:[(0,l.jsx)("p",{className:i()("typography-12","text-text2"),children:"".concat(r)}),(0,l.jsx)("p",{className:i()("typography-12","text-text2"),children:"閲覧数 : ".concat(n[0].value)})]}):null},$=e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)};var J=r.memo(function(){let{tagName:e}=(0,_.A)(),{data:t}=(0,E.Z)(e),n=(0,T.d)(),a=(0,r.useMemo)(()=>n?{top:15,right:0,left:0,bottom:30}:{top:15,right:20,left:0,bottom:30},[n]);return void 0===t?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:i()(n?"mb-8":"mb-16",["text-text1","typography-16","font-bold"]),children:"このタグがついたpixivの作品閲覧データ"}),(0,l.jsx)("div",{className:i()(n?["ml-[-12px]","bg-surface1"]:["ml-0","bg-surface2"],"w-full","h-[324px]","rounded-8"),children:(0,l.jsx)(W.h,{width:"100%",height:"100%",children:(0,l.jsxs)(H.w,{data:t.tagCounts,margin:a,children:[(0,l.jsx)("foreignObject",{y:12,width:"100%",height:"100%",children:(0,l.jsxs)("div",{className:i()(["grid","grid-cols-[1fr_auto]","gap-[16px]"],n?["pl-[14px]","pr-0"]:["pl-16","pr-[20px]"]),children:[(0,l.jsxs)("div",{className:i()("flex","min-w-0"),children:[(0,l.jsx)("div",{className:i()([n?"typography-14":"typography-16","font-bold","text-text1"],"self-center","truncate"),children:e}),(0,l.jsxs)("div",{className:i()(["text-text3","typography-14"],"ml-16","self-center","min-w-max"),children:["総閲覧数: ",(0,Y._)(t.tagCountTotal)]})]}),(0,l.jsx)("div",{className:i()("pl-[18px]","invisible"),children:(0,l.jsx)(K,{})})]})}),(0,l.jsx)(D.D,{formatter:K,align:"right",verticalAlign:"top",height:50,iconType:"plainline",wrapperStyle:{marginTop:"-2px",marginRight:"-10px"}}),(0,l.jsx)(O.q,{strokeDasharray:"0 0",vertical:!1,stroke:"rgba(0, 0, 0, 0.08)"}),(0,l.jsx)(q.K,{tickFormatter:$,dataKey:"date",tickLine:!1,angle:-60,tickMargin:20,stroke:"#ADADAD",tick:{fontSize:12,fill:"#858585",dx:-10},axisLine:{stroke:"rgba(0, 0, 0, 0.08)"}}),(0,l.jsx)(V.B,{tickLine:{display:"none"},stroke:"#ADADAD",tick:{fontSize:12,fill:"#858585"},axisLine:{stroke:"rgba(0, 0, 0, 0.08)"}}),(0,l.jsx)(B.u,{content:(0,l.jsx)(Q,{})}),(0,l.jsx)(G.x,{type:"linear",dataKey:"count",stroke:"#0096FA",dot:!1,strokeWidth:2})]})})})]})}),X=n(56102);function ee(e){let{onClick:t,controls:n,expanded:r,captionLineHeight:a}=e,{t:i}=(0,b.b)();return(0,l.jsx)(et,{captionLineHeight:a,role:"heading",children:(0,l.jsx)(en,{type:"button",onClick:t,"aria-controls":n,"aria-expanded":r,captionLineHeight:a,"data-gtm-class":"comment-expand",children:i("pages.history.more")})})}let et=s.ZP.div.withConfig({componentId:"sc-cd1a9505-0"})(['position:absolute;bottom:0;right:0;display:flex;align-items:center;&::before{content:"";display:inline-block;position:relative;z-index:1;width:32px;height:',";background:linear-gradient( 90deg,rgba(0,0,0,0) 0%,rgb(255,255,255) 100% );}"],e=>{let{captionLineHeight:t}=e;return"".concat(t,"px")}),en=s.ZP.button.withConfig({componentId:"sc-cd1a9505-1"})(["color:",";outline:none;border:none;background-color:rgb(255,255,255);line-height:","px;font-weight:normal;cursor:pointer;padding:0 0 0 8px;transition:0.2s color;"],e=>{let{theme:t}=e;return t.color.text3},e=>{let{captionLineHeight:t}=e;return t});function el(e){let{id:t,maxRows:n=2,children:a}=e,[i,s]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!0),[d,x]=(0,r.useState)(22),m=(0,r.useRef)(null),p=(0,r.useCallback)(()=>{s(!0),c(!1)},[]),h=(0,r.useCallback)(()=>{if(!m.current)return;let e=parseInt(getComputedStyle(m.current).lineHeight||"0",10);if(d!==e){x(e);return}let t=.25*d;m.current.scrollHeight-m.current.offsetHeight>t?o||c(!0):o&&c(!1)},[o,d]);(0,r.useEffect)(()=>{h()},[h]),(0,r.useEffect)(()=>{let e=new ResizeObserver(()=>{i||h()});return null!==m.current&&e.observe(m.current),()=>e.disconnect()},[i,h]),(0,r.useEffect)(()=>{s(!1),c(!0)},[t]);let u="expandable-paragraph-".concat(t);return(0,l.jsxs)(er,{children:[(0,l.jsx)(ea,{ref:m,id:u,expanded:i,maxHeight:Math.max(n,1)*d,children:a}),o&&(0,l.jsx)(ee,{controls:u,captionLineHeight:d,expanded:i,onClick:p})]})}let er=s.ZP.div.withConfig({componentId:"sc-7a369a25-0"})(["display:flex;flex-flow:column;position:relative;"]),ea=s.ZP.p.withConfig({componentId:"sc-7a369a25-1"})(["margin:0;padding:0;border:none;white-space:pre-wrap;",""],e=>{let{maxHeight:t,expanded:n}=e;return!n&&"\n      overflow: hidden;\n      max-height: ".concat(t,"px;\n    ")});var ei=n(97443),es=n(43205),eo=n(92330),ec=n(77221),ed=n(25715),ex=n(36502),em=n(15072),ep=n(23725),eh=n(94335),eu=r.memo(function(){var e,t;let{data:n,error:a}=(0,ed.O)(),[s,o]=(0,r.useState)(""),c=(0,h.useRouter)(),{locale:d,t:x}=(0,b.b)(),[m,p]=(0,r.useState)(!1),[u,g]=(0,r.useState)(""),[j,y]=(0,f.p)({type:"error"}),[I]=(0,L.c)(),{data:P}=(0,w.u)(I),{encodedTagName:S,tagName:z}=(0,_.A)(null==P?void 0:P.tagName),{data:A}=function(e,t){let{locale:n}=(0,b.b)(),l=(0,Z.V)(e),{data:r,error:a}=(0,N.Z)("/_api/get_comments/".concat(l,"?lang=").concat(n,"&limit=").concat(4),k._,{revalidateOnMount:!0});return(0,C.B0)(r,a,"fail in useComments")}(z,0);(0,C.zz)(a);let[U,R]=(0,r.useState)(null!=A?A:{}),E=(0,ex.n)(),{data:M}=(0,ec.A)(z),F=(0,T.d)(),W=(0,X.Y)(),H=(0,X.v)();(0,r.useEffect)(()=>{R(null!=A?A:{})},[A]),(0,r.useEffect)(()=>{p(!1)},[s]);let D=(0,r.useCallback)(async()=>{if(!(null==P?void 0:P.isEditable)){y(x("pages.article.commentsDisabled"));return}if(!W){y(H);return}if(/^[\s ]*$/.test(s)||""===s){g(x("pages.article.commentsEmpty")),p(!0);return}if(s.length<10){g(x("pages.article.comments10characters")),p(!0);return}try{await eo.L.POST("/post_comment/{tagName}",{params:{path:{tagName:z},query:{lang:d}},body:{comment:s}}),o("");let{data:e}=await eo.L.GET("/get_comments/{tagName}",{params:{path:{tagName:z},query:{lang:d,limit:4}}});void 0!==e&&R(e)}catch(e){console.error("エラー:",e)}},[null==P?void 0:P.isEditable,s,z,y,d,x]),O=(0,r.useMemo)(()=>{var e,t;return null!==(t=null==U?void 0:null===(e=U.comments)||void 0===e?void 0:e.length)&&void 0!==t?t:0},[U]);return(0,l.jsxs)("section",{className:"mt-24",id:"article-comment",children:[(0,l.jsx)("h2",{className:i()(["typography-16","font-bold","text-text1"],"mb-8","flow-root"),children:x("pages.article.comments")}),E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:i()("mb-16","flex","items-center"),children:[(0,l.jsx)(ej,{href:n.user.profileUrl,target:"_blank",children:(0,l.jsx)(ef,{src:(0,eh.C)(n.user.imageUrl),alt:"ユーザーアイコン"})}),(0,l.jsx)("div",{className:i()("mr-8","w-full"),children:(0,l.jsx)(v.nv,{label:" ",showLabel:!1,disabled:!1,value:s,onChange:o,invalid:m,maxLength:1e3,requiredText:"",assistiveText:m?u:"",placeholder:x("pages.article.comment"),autoComplete:"off"})}),F&&(0,l.jsx)("button",{className:i()(["py-0","px-[2px]"],"border-0","no-underline","cursor-pointer","bg-transparent"),onClick:()=>{D()},children:(0,l.jsx)(ei.Z,{size:16,color:"rgba(0, 0, 0, 0.32)"})}),!F&&(0,l.jsx)(v.zx,{className:"flex max-w-[76px] font-bold text-text5 typography-14",onClick:()=>{D()},variant:"Primary",children:x("pages.article.send")}),j]}),(0,l.jsx)("ul",{className:i()("m-0","p-0"),children:null==U?void 0:null===(e=U.comments)||void 0===e?void 0:e.map((e,t)=>t>2?null:(0,l.jsxs)(eg,{children:[(0,l.jsx)(ej,{href:e.user.profileUrl,target:"_blank",children:(0,l.jsx)(ef,{src:(0,eh.C)(e.user.imageUrl),alt:"ユーザーアイコン"})}),(0,l.jsxs)("div",{className:i()("mr-8","w-full"),children:[(0,l.jsx)(es.Z,{className:i()(F?["typography-12","py-0"]:["typography-14","py-4"],["font-bold","text-text1","line-clamp-1"],"flow-root","p-0",["no-underline","hover:underline"]),href:e.user.profileUrl,target:"_blank",children:e.user.name}),(0,l.jsx)("div",{className:i()(F?["typography-12","mb-4"]:["typography-14","mb-0"],["text-text2","break-all"],"py-4"),children:(0,l.jsx)(el,{id:"".concat(S,"_").concat(t.toString()),children:e.comment})}),(0,l.jsx)("div",{className:i()(F?["text-[10px]","text-text4"]:["text-[12px]","text-text3"],"[line-height:20px]","py-0"),children:(0,ep.r8)(new Date(e.date),d)})]})]},t))})]}),0===O&&(0,l.jsx)("div",{className:i()(["text-[14px]","text-text3","text-center"],"pt-24"),children:x("pages.article.commentsEmpty")}),(E?O>3:O>0)&&(0,l.jsx)("div",{className:i()("mx-auto mb-0 mt-24",F?"w-full":"max-w-[240px]"),children:(0,l.jsx)(em.Z,{onClick:()=>{c.push("/comment/view/".concat(S),void 0,{shallow:!0})},gtmClass:"comment-more",text:E?void 0:x("pages.article.showComments",{commentCount:null!==(t=null==M?void 0:M.commentCount)&&void 0!==t?t:0})})})]})});let eg=s.ZP.li.withConfig({componentId:"sc-514e2365-0"})(["margin-bottom:16px;justify-content:start;display:flex;&:last-child{margin-bottom:0;}"]),ef=e=>{let{src:t,alt:n}=e;return(0,l.jsx)("img",{className:i()("mt-4","mr-16","w-[40px]","h-40","rounded-[20px]","object-cover"),src:t,alt:n})},ej=(0,s.ZP)(es.Z).withConfig({componentId:"sc-514e2365-1"})(["width:fit-content;"]);var ev=n(97029),eb=n(72444),ey=n(78043),ew=n(79225),eN=n(40260),ek=n(41638),eC=n(5310),eZ=n(92308),e_=n(42457),eI=n(43330),eP=n(55077),eS=n(45462),ez=n(91898),eA=r.memo(function(e){let{isOpen:t,onClose:n,setReportProblemShow:a}=e,{locale:s,t:o}=(0,b.b)(),{encodedTagName:c}=(0,_.A)(),{data:d}=(0,w.u)(c),x=(0,ex.n)(),m=(0,eP.EZ)(),p=(0,r.useCallback)(e=>{x?(a(!0),n()):(e.preventDefault(),m())},[m,x,n,a]);return void 0==d?null:(0,l.jsx)(eS.Z,{title:o("pages.article.options"),show:t,controlVisibilityWithCssToAlwaysMount:!0,onClose:n,showCloseIcon:!0,mobileBottomFixed:!0,modalHeight:246,ignoreOverFlow:!0,children:(0,l.jsxs)(ez.ZP,{children:[(0,l.jsxs)(eU,{children:[(0,l.jsx)(eR,{children:(0,l.jsx)(eT,{href:"/history/list/".concat(c),children:o("pages.article.editHistory")})}),(0,l.jsx)(eR,{children:(0,l.jsx)("button",{className:i()(["text-text1","text-[14px]","font-bold","text-left"],"p-[initial]","h-full","w-full","border-0","bg-transparent","cursor-pointer"),onClick:p,children:o("components.modal.reportProblem.title")})})]}),(0,l.jsx)("div",{className:i()(["typography-12","text-text3"],"h-[38px]","flex","items-center"),children:o("pages.article.differentLang")}),(0,l.jsx)(eU,{children:(0,l.jsx)(eR,{children:(0,l.jsx)(eI.Z,{tagName:d.translatedTagName,tagClassName:i()(["text-[14px]","text-text1"],"no-underline","cursor-pointer","h-full",["flex","items-center"]),gtmClassName:"en"===s?"side-menu_article":"side-menu_article-en",createClassName:i()(["text-[14px]","text-text1"],"cursor-pointer","no-underline","h-full",["flex","items-center"])})})})]})})});let eU=e=>{let{children:t}=e;return(0,l.jsx)("ul",{className:i()("m-0","p-0"),children:t})},eR=e=>{let{children:t}=e;return(0,l.jsx)("li",{className:i()(["text-text1","typography-14","preserve-half-leading","font-bold","[line-height:40px]"],"list-none","w-full","h-40","block","cursor-pointer"),children:t})},eT=e=>{let{children:t,...n}=e;return(0,l.jsx)(es.Z,{className:i()(["text-text1","typography-14","preserve-half-leading","font-bold","[line-height:40px]"],"no-underline","h-full","w-full","block"),...n,children:t})};var eE=r.memo(function(){var e;let{t}=(0,b.b)(),{encodedTagName:n,tagName:a}=(0,_.A)(),[s,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),{data:x}=(0,ec.A)(a),m=(0,eb.Z)(a),[p,h]=(0,f.p)({type:"error"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(eL,{id:"article-action",children:[(0,l.jsxs)(eM,{children:[(0,l.jsx)(ey.ZP,{}),(0,l.jsxs)("ul",{className:i()("p-0","text-text3","ml-[auto]","flex"),children:[(0,l.jsx)(eF,{children:(0,l.jsx)(eW,{href:m,target:"_blank","data-gtm-class":"article-top_x-share",children:(0,l.jsx)(ew.g,{fill:"currentColor",size:24})})}),(0,l.jsx)(eF,{children:(0,l.jsx)(e_.M,{})})]})]}),(0,l.jsxs)(eM,{children:[(0,l.jsx)(eZ.Z,{showErrorToast:h}),(0,l.jsx)("div",{className:i()("ml-8","flex"),children:(0,l.jsx)("button",{className:i()(["mx-0","px-0"],"text-text3",["flex","items-center"],"border-0","no-underline","cursor-pointer","bg-transparent"),onClick:()=>{o(!0)},children:(0,l.jsx)(A.Z,{name:"24/Dot"})})})]}),(0,l.jsx)(eM,{children:(0,l.jsx)(eC.o,{})}),(0,l.jsx)(eM,{children:(0,l.jsxs)("div",{className:i()("mt-16",["typography-14","text-text3"],["flex","items-center"]),children:[(0,l.jsx)(A.Z,{name:"24/Calendar",fixedSize:16}),(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)(eH,{href:"/history/list/".concat(n),children:t("pages.history.updated",{days:null!==(e=null==x?void 0:x.lastUpdatedAt)&&void 0!==e?e:""})})})]})})]}),(0,l.jsx)(eA,{isOpen:s,onClose:()=>o(!1),setReportProblemShow:d}),(0,l.jsx)(ek.M,{isShow:c,setIsShow:d,tagName:a}),p]})});let eL=s.ZP.section.withConfig({componentId:"sc-73e88c41-0"})(["width:100%;"]),eM=s.ZP.div.withConfig({componentId:"sc-73e88c41-1"})(["display:flex;"]),eF=s.ZP.li.withConfig({componentId:"sc-73e88c41-2"})(["display:flex;:nth-child(2){margin-left:16px;}"]),eW=(0,s.ZP)(es.Z).withConfig({componentId:"sc-73e88c41-3"})(["color:#000000;text-decoration:none;display:flex;align-items:center;:hover{text-decoration:underline;}"]),eH=(0,s.ZP)(eN.S).withConfig({componentId:"sc-73e88c41-4"})(["text-decoration:none;display:flex;align-items:center;"]);var eD=n(47578),eO=n(67715),eq=n(5837),eV=n(82946),eB=r.memo(function(){let{locale:e,t}=(0,b.b)(),[n]=(0,L.c)(),{data:a}=(0,w.u)(n),{tagName:s}=(0,_.A)(null==a?void 0:a.tagName),o=(0,ex.n)(),c=(0,eV.$)(),[d,x]=(0,r.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{id:"article-action",className:i()("mt-[12px]","flex","flex-col","gap-[12px]"),children:[o?(0,l.jsx)("button",{className:i()("px-0","border-0","cursor-pointer",["typography-14","text-left","text-dlink"],"bg-transparent","w-auto","no-underline",["hover:text-dlink-hover","hover:underline"]),onClick:()=>{x(!0)},children:t("components.modal.reportProblem.title")}):(0,l.jsx)(eN.S,{className:"text-[14px]",href:c,children:t("components.modal.reportProblem.title")}),(0,l.jsx)(eI.Z,{tagName:null==a?void 0:a.translatedTagName,tagClassName:i()("border-0","cursor-pointer",["typography-14","text-left","text-dlink"],"bg-transparent","w-auto","no-underline",["hover:text-dlink-hover","hover:underline"]),gtmClassName:"en"===e?"side-menu_article":"side-menu_article-en",createClassName:i()(["text-[14px]","text-text1"],"cursor-pointer","no-underline","h-full",["flex","items-center"])})]}),(0,l.jsx)(ek.M,{isShow:d,setIsShow:x,tagName:s})]})});let eG=()=>{let{locale:e}=(0,b.b)(),t=(0,T.d)(),[n,a]=(0,L.c)(),{data:s}=(0,w.u)(n),{tagName:h}=(0,_.A)(null==s?void 0:s.tagName),{data:u}=(0,E.Z)(h),g=(0,r.useMemo)(()=>{var e;return JSON.parse(null!==(e=null==s?void 0:s.nodes)&&void 0!==e?e:"[]")},[s]),f=(0,m.Z)(g),j=(0,r.useRef)(null),v=(0,M.G)("ab_dev_thread_first_release"),{threadSectionRef:y,scrollToThreadSection:N}=function(){let e=(0,r.useRef)(null),t=(0,r.useCallback)(()=>{e.current&&e.current.scrollIntoView({behavior:"smooth"})},[]);return{threadSectionRef:e,scrollToThreadSection:t}}();return((0,r.useEffect)(()=>{let e;let t=j.current;return t&&(e=new IntersectionObserver(t=>{t.forEach(t=>{t.intersectionRatio>0&&(window.dataLayer.push({event:"scroll-end-artilce",name:"article_id",value:null==s?void 0:s.id}),e.disconnect())})},{threshold:.5})).observe(t),()=>null==e?void 0:e.disconnect()},[s,null==s?void 0:s.tagName]),void 0!==s&&s.id)?(0,l.jsxs)("article",{className:i()(t?"w-full p-0":"w-col-span-7 p-24 screen3:w-col-span-6 screen2:w-full","box-border rounded-16 bg-background1"),children:[v&&"ja"===e&&(0,l.jsx)(R,{onClick:N}),(0,l.jsx)(d.Z,{pageType:"article"}),t?a?(0,l.jsx)(eB,{}):(0,l.jsx)(eE,{}):a?(0,l.jsx)(F.Bb,{}):(0,l.jsx)(F.ZP,{}),(0,l.jsx)(c.Z,{pageType:"article"}),f&&s.text.length>=800?(0,l.jsxs)(l.Fragment,{children:[t&&(a?(0,l.jsx)(eB,{}):(0,l.jsx)(eE,{})),s&&s.ads&&(0,l.jsx)(o.Z,{className:"mt-[36px] h-[200px]",query:{zoneId:"d_footer_inline",ng:s.ads},targetScreen:"desktop",sizingMethod:"scaled_by_parent_width",defaultWidth:656,defaultHeight:200,maxScaledHeight:200})]}):(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsx)(x.v,{className:"mt-[80px]"})}),(0,l.jsx)(eY,{ref:j,children:(0,l.jsx)(eq.Z,{mode:"latest",data:s,isGrid:!t,moreCount:t?2:3})}),!a&&(0,l.jsx)(eu,{}),v&&"ja"===e&&(0,l.jsx)(S,{ref:y}),s&&!a&&s.ads&&(0,l.jsx)(o.Z,{className:i()("mb-[36px] mt-[20px] h-[250px]",p.b),query:{zoneId:"d_sp_rectangle",ng:s.ads},targetScreen:"mobile",sizingMethod:"scaled_by_width",defaultWidth:300,defaultHeight:250,maxScaledWidth:300}),!a&&(0,l.jsxs)(l.Fragment,{children:[s.relatedPixivisionArticle&&t&&(0,l.jsx)("section",{className:i()("mt-8"),id:"article-related-pixivision",children:(0,l.jsx)(eO.B,{})}),void 0!==s.relatedIllusts&&null!==s.relatedIllusts&&s.relatedIllusts.length>0?(0,l.jsx)(eK,{id:"article-pixiv-illust",children:(0,l.jsx)(ev.Z,{})}):null,"ja"===e?(0,l.jsx)(eK,{id:"article-pixiv-novel",children:(0,l.jsx)(eD.A,{})}):null,void 0!==u&&u.tagCounts.length>0&&"ja"===e?(0,l.jsx)(eK,{id:"article-graph",children:(0,l.jsx)(J,{})}):null]}),s&&!a&&s.ads&&(0,l.jsx)(o.Z,{className:i()("mt-8 h-[250px]",p.b),query:{zoneId:"d_sp_footer",ng:s.ads},targetScreen:"mobile",sizingMethod:"scaled_by_width",defaultWidth:300,defaultHeight:250,maxScaledWidth:300})]}):null},eY=s.ZP.div.withConfig({componentId:"sc-c265220b-0"})(["margin-top:40px;margin-bottom:56px;"]),eK=e=>{let{children:t,id:n}=e;return(0,l.jsx)("section",{id:n,className:"mt-40",children:t})}},75512:function(e,t,n){n.d(t,{Z:function(){return E}});var l=n(85893),r=n(67294),a=n(93967),i=n.n(a),s=n(88509),o=n(7369),c=n(87481),d=n(55476),x=n(29014),m=n(38144),p=n(62488),h=n(22138),u=n(17060),g=n(33530),f=n(37395),j=n(25303),v=n(78043),b=n(363),y=n(32932),w=n(55780),N=n(79700),k=n(77209),C=n(92308),Z=n(35544);function _(){let e=(0,b.U)();return(0,l.jsx)(b.s,{isShow:e,children:(0,l.jsx)(P,{className:h.vp})})}function I(){return(0,l.jsx)("div",{className:"rounded-16 bg-background1 p-24",children:(0,l.jsx)(P,{})})}function P(e){let{className:t}=e,{encodedTagName:n,tagName:a}=(0,k.A)(),[s,o]=(0,w.p)({type:"error"}),{t:c}=(0,N.b)();return(0,r.useMemo)(()=>(0,l.jsxs)("div",{className:i()("flex items-center justify-center gap-[16px]",t),children:[(0,l.jsxs)("div",{className:"flex h-[32px] items-center gap-[16px]",children:[(0,l.jsx)("span",{className:"line-clamp-1 break-all font-bold text-text1 typography-20 preserve-half-leading",children:a}),(0,l.jsx)(v.ZP,{}),(0,l.jsx)(Z.Z,{})]}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-[8px] font-bold text-text2 typography-14",children:[(0,l.jsx)(C.Z,{showErrorToast:o}),s,(0,l.jsx)(y.Q,{fullWidth:!0,href:"/history/list/".concat(n),children:c("pages.article.editHistory")})]})]}),[n,s,o,a,c])}var S=n(53217),z=n(40260),A=n(8370),U=n(21782);function R(){let e=(0,b.U)();return(0,l.jsx)(b.s,{isShow:e,children:(0,l.jsx)(T,{})})}let T=()=>{let[e]=(0,g.c)(),{data:t}=(0,u.u)(e),{encodedTagName:n}=(0,k.A)(null==t?void 0:t.tagName),{data:r}=(0,A.I)(e);return t&&r?(0,l.jsxs)("div",{className:i()("flex items-center justify-between gap-[16px]",h.vp),children:[(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)(z.S,{href:(0,U.jD)(n),className:"flex p-8",children:(0,l.jsx)(S.Z,{name:"24/Prev",className:"text-[#717171]"})}),(0,l.jsx)(p.dn,{articleTagName:t.tagName,encodedTagName:n,historyDate:r.history.date})]}),(0,l.jsx)(p.zt,{historyViewInfo:r,articleKey:e,encodedTagName:n,returnToHistory:!1})]}):null};function E(e){let{breadcrumbItems:t}=e,[n,a]=(0,g.c)(),{data:v}=(0,u.u)(n),b=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,x.Z)([b,y]);let w=(0,f.d)();return(0,l.jsx)("div",{className:i()("bg-background2",["flex","flex-col"]),id:"article-layout-desktop",children:(0,l.jsxs)("div",{className:i()("mb-24",["[&::webkit-scroll-bar]:w-[calc(1%+2px)]","[&::webkit-scroll-bar]:h-4","[&::webkit-scrollbar-thumb]:bg-[#d6dee1]","[&::webkit-scrollbar-thumb]:rounded-[10px]","[&::webkit-scrollbar-thumb]:bg-clip-content","[&::webkit-scrollbar-thumb]:w-[50px]"]),children:[(0,l.jsxs)("div",{className:i()(h.vp,"flex","flex-col","gap-[24px]"),children:[(0,l.jsx)("div",{className:"mt-24 py-4",children:(0,l.jsx)(m.a,{items:t})}),a&&(0,l.jsx)(p.ef,{}),!w&&v&&!a&&v.ads&&(0,l.jsx)(c.Z,{className:"flex h-[90px] justify-center",query:{zoneId:"d_header",ng:v.ads},targetScreen:"desktop",sizingMethod:"scaled_by_parent_width",defaultWidth:970,defaultHeight:90,maxScaledHeight:90}),(0,l.jsx)("div",{className:i()("flex","flex-row","justify-center","gap-[24px]"),children:w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:i()("w-col-span-2","screen3:hidden")}),(0,l.jsx)(o.Z,{}),(0,l.jsx)(s.u,{mode:"blank"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.Z,{pageType:"article",ref:b}),(0,l.jsx)(j.F,{}),(0,l.jsx)(s.u,{mode:a?"archive":"latest",data:v,ref:y})]})}),!w&&(a?(0,l.jsx)(p.ef,{}):(0,l.jsx)(I,{}))]}),!w&&(a?(0,l.jsx)(R,{}):(0,l.jsx)(_,{}))]})})}},7369:function(e,t,n){n.d(t,{Z:function(){return y}});var l=n(85893);n(67294);var r=n(10280),a=n(93967),i=n.n(a),s=n(19521),o=n(97029),c=n(33528),d=n(53706),x=n(47578),m=n(52344),p=n(25814),h=n(55160),u=n(69519),g=n(17060),f=n(96890),j=n(33530),v=n(79700),b=n(77209);function y(){let{locale:e,t}=(0,v.b)(),[n]=(0,j.c)(),{data:r}=(0,g.u)(n),{encodedTagName:a,tagName:s}=(0,b.A)(null==r?void 0:r.tagName),{data:c}=(0,f.Z)(s),y=(0,u.d)();return void 0===r?null:(0,l.jsxs)("div",{className:i()(y?"w-full":["w-col-span-7","screen4:w-col-span-6","screen2:w-full"],"box-border","bg-background1",y?"p-0":"p-24",y?"rounded-0":"rounded-16"),children:[(0,l.jsx)(k,{children:s}),y&&(0,l.jsx)(m.X,{}),y?(0,l.jsx)(h.v,{className:"mb-0"}):(0,l.jsx)(N,{}),(0,l.jsxs)(C,{children:[(0,l.jsx)(d.Z,{}),(0,l.jsx)(Z,{children:t("pages.article.notFound")}),(0,l.jsx)(_,{children:(0,l.jsx)(P,{href:"/an/".concat(a),variant:"Primary",children:t("pages.article.createArticle")})})]}),y&&(0,l.jsx)(I,{}),void 0!==r.relatedIllusts&&null!==r.relatedIllusts&&r.relatedIllusts.length>0?(0,l.jsx)(w,{id:"article-pixiv-illust",children:(0,l.jsx)(o.Z,{})}):null,"ja"===e&&(0,l.jsx)(w,{id:"article-pixiv-novel",children:(0,l.jsx)(x.A,{})}),y&&(0,l.jsx)(p.Z,{})]})}let w=s.ZP.section.withConfig({componentId:"sc-5b06a758-0"})(["margin-top:36px;"]),N=s.ZP.div.withConfig({componentId:"sc-5b06a758-1"})(["border-bottom:1px solid #00000014;"]),k=s.ZP.h1.withConfig({componentId:"sc-5b06a758-2"})(["color:",";line-height:28px;font-size:","px;margin-top:0;margin-bottom:24px;@media ","{font-size:","px;margin-top:0;margin-bottom:8px;}"],e=>{let{theme:t}=e;return t.color.text1},e=>{let{theme:t}=e;return t.typography.size[20].fontSize},e=>{let{theme:t}=e;return(0,r.kk)(t.breakpoint.screen1)},e=>{let{theme:t}=e;return t.typography.size[16].fontSize}),C=s.ZP.div.withConfig({componentId:"sc-5b06a758-3"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;padding:40px 0 40px;@media ","{padding:16px 16px 24px;}"],e=>{let{theme:t}=e;return(0,r.kk)(t.breakpoint.screen1)}),Z=s.ZP.p.withConfig({componentId:"sc-5b06a758-4"})(["color:",";font-size:","px;font-weight:bold;margin-top:12px;margin-bottom:20px;@media ","{margin-bottom:12px;}"],e=>{let{theme:t}=e;return t.color.text3},e=>{let{theme:t}=e;return t.typography.size[14].fontSize},e=>{let{theme:t}=e;return(0,r.kk)(t.breakpoint.screen1)}),_=s.ZP.div.withConfig({componentId:"sc-5b06a758-5"})(["width:240px;max-width:initial;margin-top:0;@media ","{width:100%;max-width:311px;margin-top:16px;}"],e=>{let{theme:t}=e;return(0,r.kk)(t.breakpoint.screen1)});var I=(0,s.ZP)(h.v).withConfig({componentId:"sc-5b06a758-6"})(["margin-bottom:-24px;"]),P=(0,s.ZP)(c.Q).withConfig({componentId:"sc-5b06a758-7"})(["color:#ffffff;width:100%;box-sizing:border-box;"])},97029:function(e,t,n){var l=n(85893),r=n(67294),a=n(19521),i=n(9840),s=n(53217),o=n(43205),c=n(40260),d=n(69519),x=n(17060),m=n(79700),p=n(77209),h=n(15072);t.Z=r.memo(function(){let{t:e}=(0,m.b)(),{encodedTagName:t}=(0,p.A)(),{data:n}=(0,x.u)(t),r=(0,d.d)();return(null==n?void 0:n.relatedIllusts)===void 0||null===n.relatedIllusts||(null==n?void 0:n.relatedIllusts.length)===0?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u,{children:[(0,l.jsx)(g,{children:e("pages.article.illustrationsOnPixiv")}),!r&&(0,l.jsxs)(o.Z,{className:"flex items-center text-text3 no-underline typography-14 hover:underline",href:"https://www.pixiv.net/tags.php?tag=".concat(t),target:"_blank","gtm-class":"article-bottom_view-illust-tag",children:[e("pages.article.showAll"),(0,l.jsx)(s.Z,{name:"Inline/External",fixedSize:10,className:"ml-8"})]})]}),(0,l.jsx)(w,{children:(0,l.jsx)(i.ZP,{hasGradient:!0,children:n.relatedIllusts.map((e,t)=>{var n,a,i;return(0,l.jsxs)(f,{children:[(0,l.jsx)(c.S,{href:null!==(n=e.illustPageUrl)&&void 0!==n?n:"",target:"_blank","gtm-class":"article-bottom_illust",children:(0,l.jsx)(j,{src:null!==(a=e.imageUrl)&&void 0!==a?a:""})}),!r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.S,{href:null!==(i=e.illustPageUrl)&&void 0!==i?i:"",target:"_blank","gtm-class":"article-bottom_illust",className:"text-text2",variant:"no-link",children:(0,l.jsx)(v,{children:e.illustTitle})}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(c.S,{href:e.authorUrl,target:"_blank","gtm-class":"article-bottom_illust-author",children:(0,l.jsx)(b,{src:e.authorImageUrl})}),(0,l.jsx)(c.S,{href:e.authorUrl,target:"_blank","gtm-class":"article-bottom_illust-author",className:"text-text2",variant:"no-link",children:(0,l.jsx)(y,{children:e.author})})]})]})]},t)})})}),r&&(0,l.jsx)("div",{className:"mt-24",children:(0,l.jsx)(h.Z,{onClick:()=>{window.open("https://www.pixiv.net/tags.php?tag=".concat(t))},gtmClass:"article-bottom_view-illust-tag"})})]})});let u=a.ZP.div.withConfig({componentId:"sc-ce4d2827-0"})(["display:flex;justify-content:space-between;align-items:center;margin-top:8px;margin-bottom:8px;"]),g=a.ZP.h2.withConfig({componentId:"sc-ce4d2827-1"})(["font-size:","px;font-weight:bold;color:",";margin-top:8px;margin-bottom:8px;"],e=>{let{theme:t}=e;return t.typography.size[16].fontSize},e=>{let{theme:t}=e;return t.color.text1}),f=a.ZP.li.withConfig({componentId:"sc-ce4d2827-2"})(["margin-right:16px;width:152px;&:last-child{margin-right:0;}"]),j=a.ZP.img.withConfig({componentId:"sc-ce4d2827-3"})(["border-radius:","px;width:152px;height:152px;"],e=>{let{theme:t}=e;return t.borderRadius[8]}),v=a.ZP.h3.withConfig({componentId:"sc-ce4d2827-4"})(["font-size:","px;font-weight:bold;color:",";margin-top:4px;margin-bottom:8px;"],e=>{let{theme:t}=e;return t.typography.size[14].fontSize},e=>{let{theme:t}=e;return t.color.text1}),b=a.ZP.img.withConfig({componentId:"sc-ce4d2827-5"})(["border-radius:","px;display:flex;width:24px;height:24px;margin-right:4px;"],e=>{let{theme:t}=e;return t.borderRadius[16]}),y=a.ZP.div.withConfig({componentId:"sc-ce4d2827-6"})(["",""],e=>{let{theme:t}=e;return"\n     color: ".concat(t.color.text2,";\n     font-size: ").concat(t.typography.size[14].fontSize,"px;\n     line-height: ").concat(t.typography.size[14].lineHeight,"px;\n  ")}),w=a.ZP.div.withConfig({componentId:"sc-ce4d2827-7"})(["margin:0 -16px;"])},15072:function(e,t,n){var l=n(85893),r=n(67294),a=n(87431),i=n(93967),s=n.n(i),o=n(79700);t.Z=r.memo(function(e){let{t}=(0,o.b)();return(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)(a.zx,{className:s()(["typography-14","font-bold","text-text5"],"mx-auto","!mb-16"),onClick:e.onClick,variant:"Navigation",fullWidth:!0,"data-gtm-class":e.gtmClass,children:e.text?e.text:t("pages.history.more")})})})},47578:function(e,t,n){n.d(t,{A:function(){return y}});var l=n(85893);n(67294);var r=n(93967),a=n.n(r),i=n(19521),s=n(9840),o=n(53217),c=n(43205),d=n(40260),x=n(69519),m=n(17060),p=n(49870),h=n(51854),u=n(79700),g=n(36971),f=n(60182),j=n(33530),v=n(77209),b=n(15072);function y(){let[e]=(0,j.c)(),{data:t}=(0,m.u)(e),{encodedTagName:n,tagName:r}=(0,v.A)(null==t?void 0:t.tagName),i=(0,x.d)(),{data:y,error:Z}=function(e){let{locale:t}=(0,u.b)(),n=(0,f.V)(e),{data:l,error:r}=(0,p.Z)("/_api/get_novels_by_tag_name/".concat(n,"?lang=").concat(t),h._);return(0,g.B0)(l,r,"fail in useRelationNovels")}(r);return void 0===Z&&y.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:a()("my-8","flex","justify-between","items-center"),children:[(0,l.jsx)("h2",{className:a()("my-8","text-text1","typography-16","font-bold"),children:"pixivに投稿された小説"}),!i&&(0,l.jsxs)(c.Z,{className:a()("text-text3","typography-14","flex","items-center","no-underline","hover:underline"),href:"https://www.pixiv.net/tags/".concat(n,"/novels"),target:"_blank","gtm-class":"article-bottom_view-novel-tag",children:["すべて見る",(0,l.jsx)(o.Z,{name:"Inline/External",fixedSize:10,className:"ml-8"})]})]}),(0,l.jsx)(C,{children:(0,l.jsx)(s.ZP,{hasGradient:!0,children:y.map((e,t)=>(0,l.jsxs)(w,{children:[(0,l.jsx)(d.S,{href:e.pageUrl,target:"_blank","gtm-class":"article-bottom_novel",children:(0,l.jsx)("img",{className:a()("rounded-8","mr-16","w-[80px]","h-[112px]"),alt:"",src:e.smallCoverUrl})}),(0,l.jsxs)(k,{children:[e.seriesTitle&&e.seriesPageUrl?(0,l.jsx)(d.S,{href:e.seriesPageUrl,target:"_blank","gtm-class":"article-bottom_novel-series",className:"text-text2",variant:"no-link",children:(0,l.jsx)("div",{className:a()("flow-root","typography-14","text-text3","mb-8"),children:e.seriesTitle})}):null,(0,l.jsx)(d.S,{href:"https://www.pixiv.net/novel/show.php?id=".concat(e.id),target:"_blank","gtm-class":"article-bottom_novel",className:"text-text2",variant:"no-link",children:(0,l.jsx)("h3",{className:a()("typography-14","font-bold","text-text1","my-4"),children:e.title})}),(0,l.jsxs)("div",{className:a()("my-4","flex","items-center"),children:[(0,l.jsx)(N,{href:e.authorPageUrl,target:"_blank","gtm-class":"article-bottom_novel-author",children:(0,l.jsx)("img",{className:a()("rounded-16","mr-4","w-[16px]","h-16"),src:e.profileSmallImageUrl})}),(0,l.jsx)(d.S,{href:e.authorPageUrl,target:"_blank","gtm-class":"article-bottom_novel-author",className:"text-text2",variant:"no-link",children:(0,l.jsx)("div",{className:a()("typography-12","text-text2"),children:e.author})})]}),(0,l.jsx)("div",{className:a()("typography-14","text-tex2","my-4","line-clamp-3"),children:e.comment}),(0,l.jsxs)("div",{className:a()("my-4","flex"),children:[(0,l.jsxs)("span",{className:a()("typography-12","text-text3","mr-8"),children:[e.textLength,"文字"]}),(0,l.jsxs)(c.Z,{className:a()("typography-12","text-text3","items-center","no-underline","hover:underline"),href:e.pageUrl,target:"_blank","gtm-class":"article-bottom_novel",children:["pixiv小説作品",(0,l.jsx)(o.Z,{name:"Inline/External",fixedSize:10,className:"ml-8"})]})]})]})]},e.id))})}),i&&(0,l.jsx)("div",{className:a()("mt-24"),children:(0,l.jsx)(b.Z,{onClick:()=>{window.open("https://www.pixiv.net/tags/".concat(n,"/novels"))},gtmClass:"article-bottom_view-novel-tag"})})]}):null}let w=i.ZP.li.withConfig({componentId:"sc-841b78e7-0"})(["margin-right:16px;width:300px;display:flex;&:last-child{margin-right:0;}"]),N=(0,i.ZP)(d.S).withConfig({componentId:"sc-841b78e7-1"})(["display:flex;"]),k=i.ZP.div.withConfig({componentId:"sc-841b78e7-2"})(["word-break:break-all;overflow-wrap:anywhere;"]),C=i.ZP.div.withConfig({componentId:"sc-841b78e7-3"})(["margin:0 -16px;"])},36594:function(e,t,n){n.d(t,{T:function(){return S}});var l=n(85893),r=n(93967),a=n.n(r),i=n(19521),s=n(87481),o=n(18956),c=n(94250),d=n(62488),x=n(17060),m=n(33530),p=n(37395),h=n(79700),u=n(25303),g=n(7369),f=n(35655),j=n(67294),v=n(40260),b=n(77209),y=j.memo(function(){let{encodedTagName:e}=(0,b.A)(),{data:t}=(0,x.u)(e);return(0,p.d)()||!t||void 0===t.recommendedArticles||0===t.recommendedArticles.length?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:a()("typography-16","font-bold","text-text1"),children:"おすすめ記事"}),(0,l.jsx)("ul",{className:a()("m-0","p-0","grid","gap-[12px]"),children:t.recommendedArticles.map((e,t)=>(0,l.jsx)(w,{children:(0,l.jsxs)(v.S,{href:"/a/".concat(encodeURIComponent(e.tagName)),"gtm-class":"article-bottom_related-article",className:a()("flex","w-full","hover:text-text2"),children:[(0,l.jsx)("img",{className:a()("mr-16","rounded-8","w-[64px]","h-64"),alt:"",src:e.imageUrl}),(0,l.jsx)(N,{children:(0,l.jsxs)(k,{children:[(0,l.jsx)("div",{className:a()("typography-14","font-bold","text-text2","py-4","line-clamp-1"),children:e.tagName}),(0,l.jsx)("div",{className:a()("typography-12","text-text3","py-4","line-clamp-1"),children:e.yomigana})]})})]})},"recommend_".concat(e.imageUrl,"_").concat(t)))})]})});let w=i.ZP.li.withConfig({componentId:"sc-cc1d511a-0"})(["justify-content:start;display:flex;&:last-child{margin-bottom:16px;}"]),N=i.ZP.div.withConfig({componentId:"sc-cc1d511a-1"})(["display:flex;align-items:center;width:100%;"]),k=i.ZP.div.withConfig({componentId:"sc-cc1d511a-2"})(["display:inline-block;vertical-align:middle;"]);var C=j.memo(function(){let{t:e}=(0,h.b)(),[t]=(0,m.c)(),{data:n}=(0,x.u)(t);return void 0==n?null:(0,l.jsxs)("div",{className:a()("bg-background1","py-16","px-16","mb-16"),id:"article-category",children:[(0,l.jsx)("div",{className:a()("typography-16","font-bold","mb-16"),children:e("pages.article.category")}),(0,l.jsx)("ul",{className:a()("m-0","p-0","flex","gap-y-[12px]","gap-x-[16px]","flex-wrap"),children:n.categories.map(e=>(0,l.jsx)(Z,{children:(0,l.jsx)(v.S,{className:"typography-14",href:"/category/".concat(encodeURIComponent(e)),children:e})},e))})]})});let Z=i.ZP.li.withConfig({componentId:"sc-d5805450-0"})(["appearance:none;list-style:none;"]);var _=n.p+"static/media/pixivcomic-ranking-icon.6be4285a.png",I=n(43205),P=j.memo(function(){var e,t;let{encodedTagName:n}=(0,b.A)(),{data:r}=(0,x.u)(n);return(null==r?void 0:r.hotWorkType)==="novel"?(0,l.jsxs)("div",{className:a()("p-16","bg-[#c9daea]"),id:"article-pixivcomic-novel",children:[(0,l.jsx)("h2",{className:a()(["typography-16","text-text1","text-center","font-normal"],"pb-8","m-0"),children:"pixivコミックの注目小説"}),(0,l.jsx)("ol",{className:a()("m-0","p-0","grid","grid-cols-[1fr_1fr_1fr]","gap-[8px]"),children:null===(e=r.hotWorks)||void 0===e?void 0:e.map((e,t)=>(0,l.jsx)("li",{className:"relative flex items-start justify-center",children:(0,l.jsxs)(I.Z,{href:e.url,target:"_blank","data-gtm-class":"article-bottom_novel-link",className:"no-underline",children:[(0,l.jsx)("img",{src:e.imageUrl,className:"w-full object-contain"}),(0,l.jsx)("p",{className:a()(["text-[12px]","text-text2","[line-height:12px]","text-center"],"py-0","m-0","px-[2px]"),children:e.title}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("span",{className:a()(["typography-12","text-text5"],"mt-8","py-4","px-[12px]","inline-block","bg-[#e8842c]","rounded-[5px]"),children:"読む▶︎"})})]})},"novel_".concat(e.url,"_").concat(t)))})]}):(null==r?void 0:r.hotWorkType)==="comic"?(0,l.jsxs)("div",{className:a()("p-8","bg-[#ffd520]"),id:"article-pixivcomic-comic",children:[(0,l.jsxs)("div",{className:a()("px-8",["flex","items-center","justify-center"],"rounded-t-[5px]","bg-[#f59523]"),children:[(0,l.jsx)("img",{className:a()("w-[29px]","h-[22px]","mb-4","mr-4"),alt:"",src:_}),(0,l.jsx)("h2",{className:a()("typography-16","text-text5","text-center","[line-height:22px]"),children:"pixivコミック 週間ランキング"})]}),(0,l.jsx)("ol",{className:a()("m-0",["grid","grid-cols-[1fr_1fr_1fr]","gap-[20px]"],"bg-background1",["pt-[15px]","px-[10px]","pb-0"],"rounded-b-[5px]"),children:null===(t=r.hotWorks)||void 0===t?void 0:t.map((e,t)=>(0,l.jsx)("li",{className:"relative flex items-start justify-center",children:(0,l.jsxs)(I.Z,{href:e.url,target:"_blank","data-gtm-class":"article-bottom_comic-link",className:"relative max-w-[200px] no-underline",children:[(0,l.jsx)("span",{className:a()(["text-text5","text-[18px]","font-bold"],["flex","items-center","justify-center"],"absolute","-top-[12px]","-left-8","w-[30px]","h-[30px]","rounded-[15px]",t+1===1?"bg-[#ffaa40]":t+1===2?"bg-[#bcac9d]":"bg-[#c87a34]"),children:t+1}),(0,l.jsx)("img",{src:e.imageUrl,className:"w-full object-contain"}),(0,l.jsx)("p",{className:a()("py-0","m-0","px-[2px]",["text-[12px]","text-dlink","text-center","[line-height:12px]"]),children:e.title}),(0,l.jsx)("p",{className:a()(["text-text2","line-clamp-2","text-[12px]","[line-height:12px]","text-center"],"py-0","m-0","px-[2px]"),children:e.author}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("span",{className:a()(["typography-12","text-text5"],"my-8","py-4","px-[12px]","inline-block","bg-[#faa200]","rounded-[5px]"),children:"読む"})})]})},"comic_".concat(e.url,"_").concat(t)))})]}):null});function S(e){let{breadcrumbItems:t}=e,{locale:n}=(0,h.b)(),[r,i]=(0,m.c)(),{data:j}=(0,x.u)(r),v=(0,p.d)();return(0,l.jsxs)("div",{className:a()("w-full","flex","flex-col","gap-[8px]","bg-background1"),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(c.F,{items:t,noWrap:!0}),i&&(0,l.jsx)(d.ef,{}),!v&&j&&j.ads&&(0,l.jsx)(s.Z,{className:"h-[50px]",query:{zoneId:"d_sp_header",ng:j.ads},targetScreen:"mobile",sizingMethod:"scaled_by_width",defaultWidth:320,defaultHeight:50,maxScaledWidth:320})]}),v?(0,l.jsx)(A,{children:(0,l.jsx)(g.Z,{})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:a()("bg-background1","p-16","gap-[8px]","flex","flex-col"),children:(0,l.jsx)(u.F,{})}),!i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(z,{id:"article-recommend",children:(0,l.jsx)(y,{})}),"ja"===n?(0,l.jsx)(P,{}):null,(0,l.jsx)(z,{id:"article-pixivision",children:(0,l.jsx)(f.Y,{})})]}),(0,l.jsx)(C,{}),!i&&(0,l.jsx)(o.G,{})]}),i&&(0,l.jsx)(d.ef,{}),!v&&j&&j.ads&&(0,l.jsx)(s.Z,{overlay:"noScale",query:{zoneId:"d_sp_overlay",ng:j.ads},targetScreen:"mobile",sizingMethod:"scaled_by_width",defaultWidth:320,defaultHeight:50,maxScaledWidth:320})]})}let z=e=>{let{children:t,id:n}=e;return(0,l.jsx)("div",{id:n,className:"p-16",children:t})},A=i.ZP.div.withConfig({componentId:"sc-78ab4eaa-0"})(["background-color:",";padding:8px 16px 16px;gap:8px;display:flex;flex-direction:column;"],e=>{let{theme:t}=e;return t.color.background1})}}]);