"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3326],{87481:function(e,t,l){l.d(t,{Z:function(){return c}});var a=l(85893),n=l(67294),r=l(5152),i=l.n(r),s=l(66693);let o=e=>i()(()=>Promise.all([l.e(801),l.e(8944)]).then(l.bind(l,8944)),{loadableGenerated:{webpack:()=>[8944]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:e.className})});function c(e){let t=(0,n.useMemo)(()=>o(e),[]);return(0,s.U)()?(0,a.jsx)(t,{...e}):null}},49304:function(e,t,l){l.d(t,{Z:function(){return k}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(19521),o=l(60032),c=l(43205),d=l(69519),u=l(17060),m=l(50502),x=l(33530),h=n.memo(function(e){var t,l,r,s,h;let g=(0,d.d)(),[y,w]=(0,n.useState)(!1),N="article"===e.pageType,k=(0,o.q_)({transform:y?"translateY(0%)":"translateY(100%)"}),_=j(),[C]=(0,x.c)(),{data:S}=(0,u.u)(C),{data:I}=(0,m.w)(),P=N?S:I;return P&&P.mainIllust?P.mainIllust.acceptLink?P.mainIllust.acceptInfo?(0,a.jsxs)("div",{onMouseEnter:()=>w(!g),onMouseLeave:()=>w(!1),className:i()("relative","overflow-hidden","rounded-8","outline-1","outline","outline-[#00000014]","outline-offset-[-1px]",_),children:[(0,a.jsx)(c.Z,{href:null!==(t=P.mainIllust.illustPageUrl)&&void 0!==t?t:"",target:"_blank","gtm-class":"main-illust",className:_,children:(0,a.jsx)(v,{src:null!==(l=P.mainIllust.imageUrl)&&void 0!==l?l:"",alt:null!==(r=P.mainIllust.illustTitle)&&void 0!==r?r:""})}),(0,a.jsx)(b,{style:{...k},children:(0,a.jsxs)("div",{className:i()("m-auto","flex","items-center"),children:[(0,a.jsx)(c.Z,{className:i()("p-8","w-[60%]",["text-text5","typography-14","text-start"],"truncate","no-underline","hover:underline"),href:null!==(s=P.mainIllust.illustPageUrl)&&void 0!==s?s:"",target:"_blank","gtm-class":"main-illust",children:P.mainIllust.illustTitle}),(0,a.jsxs)("div",{className:i()("ml-auto","p-8","width-[27%]","flex","items-center"),children:[(0,a.jsx)("span",{className:i()(["text-text5","typography-14"],"mr-4","min-w-[15px]"),children:"by"}),(0,a.jsx)(c.Z,{className:i()(["text-text5","typography-14","text-start"],"h-[14px]","truncate","no-underline","hover:underline"),href:null!==(h=P.mainIllust.authorUrl)&&void 0!==h?h:"",target:"_blank","gtm-class":"main-illust_author",children:P.mainIllust.author})]})]})})]}):(0,a.jsx)(f,{mainIllust:P.mainIllust}):(0,a.jsx)(p,{mainIllust:P.mainIllust}):null});function p(e){var t;let{mainIllust:l}=e;return(0,a.jsx)(g,{children:(0,a.jsx)(v,{src:null!==(t=l.imageUrl)&&void 0!==t?t:"",alt:""})})}function f(e){var t,l;let{mainIllust:n}=e,r=j();return(0,a.jsx)(g,{children:(0,a.jsx)(c.Z,{href:null!==(t=n.illustPageUrl)&&void 0!==t?t:"",target:"_blank",rel:"nofollow",className:r,children:(0,a.jsx)(v,{src:null!==(l=n.imageUrl)&&void 0!==l?l:"",alt:"センシティブな作品"})})})}let g=s.ZP.span.withConfig({componentId:"sc-93acada0-0"})(["display:inline-block;margin-bottom:8px;margin-right:8px;&:last-child{margin-right:0;}"]),b=(0,s.ZP)(o.q.div).withConfig({componentId:"sc-93acada0-1"})(["position:absolute;bottom:0;left:0;width:100%;height:30px;background:#000000a3;color:white;text-align:center;"]),v=e=>{let{src:t,alt:l}=e,n=j();return(0,a.jsx)("img",{className:i()("rounded-8 object-cover object-top",n),src:t,alt:l},t)};function j(){return(0,d.d)()?"h-[112px] w-[112px]":"h-[240px] w-[240px] screen3:h-[160px] screen3:w-[160px]"}var y=l(78043),w=l(40260),N=l(79700),k=n.memo(function(e){let{locale:t,t:l}=(0,N.b)(),n=(0,d.d)(),r="article"===e.pageType,[s,o]=(0,x.c)(),{data:p}=(0,u.u)(s),{data:f}=(0,m.w)(),g=r?p:f;if(void 0==g)return null;let b=g.tagName;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(_,{id:"article-content-header",children:[(0,a.jsx)("div",{className:i()(n?"mr-16":"mr-24"),children:(0,a.jsx)(h,{pageType:e.pageType})}),(0,a.jsxs)("div",{className:"w-full break-all",children:[(0,a.jsx)("ul",{className:i()("mt-0","mb-4","mx-0","p-0","flex","gap-[8px]"),children:g.categories.map(e=>(0,a.jsx)(C,{children:(0,a.jsx)(c.Z,{className:i()("bg-surface4","rounded-4","px-4","py-[2px]",["text-text5","text-[10px]"],"flex","items-center","[text-decoration:none]"),href:"/category/".concat(encodeURIComponent(e)),target:r?"_self":"_blank","gtm-class":"article-top_category","gtm-id":e,children:e})},"category_".concat(e)))}),(0,a.jsxs)(S,{children:[(0,a.jsx)("h1",{className:i()("text-text1",n?"typography-16":"typography-20","my-4","font-bold"),id:"article-name",children:b}),r&&!o&&!n&&(0,a.jsx)("div",{className:"shrink-0 screen2:hidden",children:(0,a.jsx)(y.ZP,{})})]}),(0,a.jsx)("p",{className:i()("text-text3","typography-12","my-4"),children:g.yomigana}),!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:i()("flow-root","text-text2","typography-14","my-8","whitespace-break-spaces"),children:g.abstract}),"ja"===t&&(0,a.jsxs)("div",{className:"mt-16",children:[(0,a.jsx)(I,{children:(0,a.jsx)(P,{href:"https://www.pixiv.net/tags/".concat(encodeURIComponent(b),"/illustrations"),target:"_blank","gtm-class":"article-top_view-illust-tag",children:l("components.article.SeeIllustrationsOnPixiv",{tagName:b})})}),(0,a.jsx)(I,{children:(0,a.jsx)(P,{href:"https://www.pixiv.net/tags/".concat(encodeURIComponent(b),"/novels"),target:"_blank","gtm-class":"article-top_view-novel-tag",children:l("components.article.SeeNovelsOnPixiv",{tagName:b})})}),(0,a.jsx)(I,{children:(0,a.jsx)(P,{href:"https://www.pixiv.net/upload.php?tag=".concat(encodeURIComponent(b)),target:"_blank",rel:"nofollow noopener","gtm-class":"article-top_create-illust",children:l("components.article.PostIllustrationsOnPixiv",{tagName:b})})}),(0,a.jsx)(I,{children:(0,a.jsx)(P,{href:"https://www.pixiv.net/novel/upload.php?tag=".concat(encodeURIComponent(b)),target:"_blank",rel:"nofollow noopener","gtm-class":"article-top_create-novel",children:l("components.article.PostNovelsOnPixiv",{tagName:b})})})]})]})]})]}),n&&(0,a.jsx)("div",{className:i()("text-text2","typography-14","mt-16","mb-8"),id:"article-content-summary",children:g.abstract})]})});let _=s.ZP.header.withConfig({componentId:"sc-1d691cc9-0"})(["display:flex;"]),C=s.ZP.li.withConfig({componentId:"sc-1d691cc9-1"})(["display:flex;height:16px;"]),S=s.ZP.div.withConfig({componentId:"sc-1d691cc9-2"})(["display:flex;align-items:center;justify-content:space-between;"]),I=e=>{let{children:t}=e;return(0,a.jsx)("p",{className:"my-8",children:t})},P=e=>{let{children:t,...l}=e;return(0,a.jsx)(w.S,{className:i()("typography-14","flow-root"),...l,children:t})}},55160:function(e,t,l){l.d(t,{v:function(){return c}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(68398),o=l(69519);t.Z=n.memo(function(e){let{articleData:t}=e,l=(0,n.useMemo)(()=>{if(void 0==t)return!1;let e=JSON.parse(t.nodes);if(!e||0===e.length)return!1;let l=e[0];return"header"!==l.tag&&"sub_header"!==l.tag&&"sub_sub_header"!==l.tag},[t]);return(0,o.d)()?(0,a.jsx)(c,{}):l?(0,a.jsx)("div",{id:"article-desktop-divider",className:"mx-0 mb-[36px] mt-24 h-[1px] w-full bg-[#00000014]"}):null});let c=n.memo(function(e){let{className:t}=e;return(0,a.jsx)("div",{className:i()("mb-24 mt-16 h-[1px] border-b-[1px] bg-[#00000014]",s.b,t)})})},55476:function(e,t,l){l.d(t,{p:function(){return f},Z:function(){return h}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(17060),o=l(33530),c=l(77209),d=l(53217),u=l(50502),m=l(79700);let x=(0,n.forwardRef)(function(e,t){let[l,r]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),{height:g}=function(){let[e,t]=(0,n.useState)({width:0,height:0});return(0,n.useEffect)(()=>{let e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}(),b="article"===e.pageType,{t:v}=(0,m.b)(),[j]=(0,o.c)(),{data:y}=(0,s.u)(j),{data:w}=(0,u.w)(),N=b?y:w,k=function(){let[e]=(0,o.c)(),{data:t}=(0,s.u)(e),{encodedTagName:l}=(0,c.A)(null==t?void 0:t.tagName),[a,r]=(0,n.useState)(!0),i=(0,n.useMemo)(()=>["article-content-header","article-desktop-divider","article-abstract"],[]),d=i.reduce((e,t)=>(e[t]=!0,e),{}),u=(0,n.useRef)(d),m=(0,n.useCallback)(e=>{e.forEach(e=>{u.current[e.target.id]=e.isIntersecting,r(Object.values(u.current).some(e=>!0===e))})},[]);return(0,n.useEffect)(()=>{let e=new IntersectionObserver(m,{rootMargin:"-68px 0px 0px 0px"});return i.forEach(t=>{let l=document.getElementById(t);l&&e.observe(l),u.current[t]=null!==l}),()=>e.disconnect()},[l,m,i]),(0,n.useMemo)(()=>a,[a])}(),_=(0,n.useRef)(null),C=(0,n.useCallback)(e=>{e.forEach(e=>{let t=e.target,a=document.querySelector('[data-toc-id="'.concat(t.dataset.headerId,'"]'));l===t.dataset.headerId&&h(e.isIntersecting),e.isIntersecting?a&&(a.style.fontWeight="bold"):a&&(a.style.fontWeight="normal")})},[l]);return((0,n.useEffect)(()=>{let e=document.querySelector("[data-header-id]");if(e instanceof HTMLDivElement){var t;r(null!==(t=e.dataset.headerId)&&void 0!==t?t:"")}if(0===g)return;let l=new IntersectionObserver(C,{rootMargin:"-81px 0px -".concat(g-81,"px 0px")});return document.querySelectorAll("[data-header-id]").forEach(e=>{l.observe(e)}),()=>l.disconnect()},[N,C,g]),(0,n.useEffect)(()=>{_.current&&(_.current.open=!0)},[null==y?void 0:y.id]),void 0==N)?null:(0,a.jsx)("div",{ref:t,className:i()("w-col-span-2 screen4:hidden","flex h-[calc(100vh-64px)] flex-col overflow-y-auto pt-[20px]","sticky top-0","duration-300 transition-all ease-in-out"),children:(0,a.jsxs)("details",{ref:_,className:"duration-300 transition-all ease-in-out [&_>_summary]:open:mb-8 [&_pixiv-icon[name='24/PullDown']]:open:rotate-180",open:!0,children:[(0,a.jsxs)("summary",{className:i()("flex items-center justify-between","cursor-pointer [&::-webkit-details-marker]:hidden"),children:[(0,a.jsx)("div",{className:"font-bold text-text1 typography-16 preserve-half-leading",children:v("components.article.contents")}),(0,a.jsx)(d.Z,{name:"24/PullDown",fixedSize:16,className:"duration-400 text-[#858585] transition-transform"})]}),(0,a.jsx)("a",{className:i()(p,k&&!x?"font-bold":"font-normal"),href:"#top",children:v("components.article.pageTop")}),N.toc?(0,a.jsx)(a.Fragment,{children:f(N.toc)}):null]})})});var h=(0,n.memo)(x);let p=i()("block cursor-pointer typography-14 preserve-half-leading","text-dlink no-underline","hover:text-dlink-hover hover:underline","active:text-dlink-active active:underline"),f=e=>{let t=JSON.parse(e);return t?function e(t){let{tocObjects:l=[],level:r=1,parentId:i=""}=t;return(0,a.jsx)(a.Fragment,{children:l.map((t,l)=>{let s=""==i?"1":"".concat(i,".").concat(l+1),o=1==r?(l+1).toString():s;return t.children?(0,a.jsxs)(n.Fragment,{children:[void 0!==t.show_id?g({level:r,href:"#h".concat(r+1,"_").concat(t.link_id),text:"".concat(o," ").concat(t.text),tocId:"h".concat(r+1,"_").concat(t.link_id)}):null,e({tocObjects:t.children,level:r+1,parentId:o})]},"#h".concat(r+1,"_").concat(t.link_id)):(0,a.jsx)(n.Fragment,{children:g({level:r,href:"#h".concat(r+1,"_").concat(t.link_id),text:"".concat(o," ").concat(t.text),tocId:"h".concat(r+1,"_").concat(t.link_id)})},"#h".concat(r+1,"_").concat(t.link_id))})})}({tocObjects:t,level:1,parentId:""}):null};function g(e){let{level:t,href:l,text:n,tocId:r}=e;switch(t){case 1:return(0,a.jsx)("li",{className:i()("flex","items-center","typography-14"),children:(0,a.jsx)("a",{className:b,href:l,"data-gtm-class":"article-toc_click","data-gtm-id":n,"data-toc-id":r,children:n})});case 2:return(0,a.jsx)("li",{className:i()("typography-14","ml-16","flex","items-center"),children:(0,a.jsx)("a",{className:b,href:l,"data-gtm-class":"article-toc_click","data-gtm-id":n,"data-toc-id":r,children:n})});case 3:return(0,a.jsx)("li",{className:i()("typography-14","ml-24","flex","items-center"),children:(0,a.jsx)("a",{className:b,href:l,"data-gtm-class":"article-toc_click","data-gtm-id":n,"data-toc-id":r,children:n})});default:return null}}let b=i()("text-[14px]","inline-block","break-words",["text-dlink","no-underline"],["hover:text-dlink-hover","hover:underline"],["active:text-dlink-active","active:underline"])},43330:function(e,t,l){var a=l(85893),n=l(67294),r=l(55077),i=l(36502),s=l(79700);t.Z=n.memo(function(e){let{tagName:t,IsOpenInNewTab:l=!1,tagClassName:o,gtmClassName:c,createClassName:d,createHref:u}=e,{locale:m,t:x}=(0,s.b)(),h=(0,r.EZ)(),p=(0,i.n)(),f="en"===m?"":"/en",g="en"===m,b=g?"ja":"en",v=(0,n.useMemo)(()=>{let e=p?"".concat(f,"/an/"):"";return u||e},[u,p]),j=(0,n.useCallback)(e=>{p||(e.preventDefault(),h("".concat(f,"/an/")))},[h,p]);return t?(0,a.jsx)("a",{className:o,href:"".concat(f,"/a/").concat(encodeURIComponent(t)),...l&&{target:"_blank"},...c&&{"data-gtm-class":c,"gtm-id":t},lang:b,hrefLang:b,children:x("components.article.transTagNameLink")}):(0,a.jsx)("a",{className:d,href:v,"data-gtm-class":g?"article-create":"article-en-create",lang:b,hrefLang:b,onClick:j,children:x("components.article.transCreateLink")})})},32014:function(e,t,l){l.d(t,{Z:function(){return ej}});var a=l(85893),n=l(67294),r=l(19521),i=l(55160),s=l(11163),o=l(26499),c=l(89774);let d=e=>{let t=(0,s.useRouter)(),[l,a]=(0,n.useState)(0),[r,i]=(0,c.y)("session",t.asPath);(0,n.useEffect)(()=>{let l=t=>{var l;t.startsWith("/a")?history.scrollRestoration="manual":history.scrollRestoration="auto",i(JSON.stringify({scroll:window.scrollY,headerOpenState:null!==(l=null==e?void 0:e.headerOpenState)&&void 0!==l?l:{}}))};return t.events.on("routeChangeStart",l),()=>{t.events.off("routeChangeStart",l)}},[t.events,t.asPath,e]),(0,n.useEffect)(()=>{let l=()=>{if(!r)return;let t=JSON.parse(r);null==e||e.setAllHeaderOpenState(t.headerOpenState),a(t.scroll)};return t.events.on("routeChangeComplete",l),()=>{t.events.off("routeChangeComplete",l)}},[e,t.asPath,t.events]),(0,o.LI)(()=>{l>0&&(window.scrollTo({top:l}),a(0))},[l])};var u=l(93967),m=l.n(u),x=l(55476),h=l(53217),p=l(17060),f=l(50502),g=l(33530),b=l(79700),v=(0,n.memo)(e=>{let{t}=(0,b.b)(),[l]=(0,g.c)(),{data:r}=(0,p.u)(l),{data:i}=(0,f.w)(),s="article"===e.pageType?r:i,o=(0,n.useRef)(null),c=(0,n.useCallback)(()=>{if(!o.current)return;let e="article_content_header-".concat(o.current.open?"close":"open");window.dataLayer.push({event:e,name:"article_id",value:null==r?void 0:r.id})},[null==r?void 0:r.id]);return((0,n.useEffect)(()=>{o.current&&(o.current.open=!0)},[null==r?void 0:r.id]),void 0===s)?null:(0,a.jsxs)("details",{ref:o,className:m()("mt-[36px] box-border w-full p-16","hidden screen4:block","rounded-8 border-[1px] border-solid border-[#00000014] bg-[#00000005]","duration-300 transition-all ease-in-out","[&_>_summary]:open:mb-8 [&_pixiv-icon[name='24/PullDown']]:open:rotate-180"),open:!0,children:[(0,a.jsxs)("summary",{className:m()("flex items-center justify-between","cursor-pointer [&::-webkit-details-marker]:hidden"),onClick:c,children:[(0,a.jsx)("span",{className:m()("typography-14 preserve-half-leading","font-bold","text-text1"),children:t("components.article.contents")}),(0,a.jsx)(h.Z,{name:"24/PullDown",fixedSize:16,className:m()("transition-transform","duration-400","text-[#858585]")})]}),(0,x.p)(s.toc)]})}),j=l(39115),y=l(87481),w=l(50816),N=(0,n.memo)(function(e){let{articleData:t}=e,{show:l}=(0,w.Q)({key:t.tagName});return(0,a.jsx)(a.Fragment,{children:l&&t.ads&&(0,a.jsx)(y.Z,{className:"my-[36px] flex justify-center",query:{zoneId:"d_toparticle",ng:t.ads},targetScreen:"desktop",sizingMethod:"fixed",defaultWidth:480,defaultHeight:270},t.id)})}),k=l(56102),_=l(25299);let C=(0,n.memo)(function(e){return(0,a.jsx)("svg",{style:{left:e.left,right:"left"===e.placement?0:void 0,width:20,height:10,bottom:"top"===e.placement?-10:void 0,top:void 0!==e.top?e.top-5:"bottom"===e.placement?-10:void 0,transform:"left"===e.placement?"rotate(-90deg) translateY(15px)":"right"===e.placement?"rotate(90deg) translateY(31px)":"bottom"===e.placement?"rotate(180deg) translateX(10px)":"translateX(-10px)"},className:m()("absolute text-brand"),viewBox:"0 0 20 10",fill:"currentColor",stroke:"white",strokeWidth:2,children:(0,a.jsx)("path",{d:"M0 0 L10 8 L20 0"})})});var S=l(52378),I=l(69071),P=l(69519);function Z(e){var t,l;let{tooltipProps:r,style:i,arrowProps:s,placement:o,tooltipRef:c}=function(e){var t;let{triggerRef:l,id:a,state:r,placement:i,containerPadding:s,boundaryElement:o,shouldFlip:c=!0}=e,d=(0,n.useRef)(null),{tooltipProps:u}=(0,I.l)({id:a,isOpen:r.isOpen},r),{overlayProps:m,arrowProps:x,placement:h}=(0,S.t)({overlayRef:d,targetRef:l,containerPadding:s,boundaryElement:o,offset:12,isOpen:r.isOpen,shouldFlip:c,shouldUpdatePosition:!0,arrowBoundaryOffset:s+16,placement:i});return(null===(t=m.style)||void 0===t?void 0:t.zIndex)!==void 0&&delete m.style.zIndex,{tooltipRef:d,tooltipProps:u,style:m.style,arrowProps:x,placement:h}}(e),d=(0,P.d)();return(0,a.jsxs)("div",{className:m()(d?"max-w-[240px]":"max-w-[320px]","m-[-2px] box-border flex !max-h-fit items-center rounded-16 border-2 border-solid bg-brand p-[16px] text-[14px] font-bold text-white"),ref:c,id:e.id,style:i,role:r.role,children:[(0,a.jsx)(C,{left:A(null===(t=s.style)||void 0===t?void 0:t.left),top:A(null===(l=s.style)||void 0===l?void 0:l.top),placement:o}),e.children]})}function A(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e):void 0}function E(e){var t,l,n;let r=null!==(t=e.buttonComponent)&&void 0!==t?t:"button";return e.isOpen?(0,a.jsx)(_.aV,{children:(0,a.jsx)(Z,{state:{close:e.onClose,isOpen:e.isOpen,open:()=>{}},triggerRef:e.triggerRef,placement:null!==(l=e.placement)&&void 0!==l?l:"bottom",containerPadding:null!==(n=e.containerPadding)&&void 0!==n?n:16,boundaryElement:e.boundaryElement,shouldFlip:e.shouldFlip,children:(0,a.jsxs)("div",{className:m()("flex flex-col items-center"),children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:m()("justify-center font-bold text-text5"),children:e.children}),(0,a.jsx)("button",{className:m()("ml-4 size-[20px]",M),onClick:e.onClose,children:(0,a.jsx)(h.Z,{name:"16/Remove"})})]}),void 0!==e.buttonComponent&&(0,a.jsx)(r,{className:m()("mt-12 h-32 mx-auto px-16 text-14 font-bold",M,e.buttonComponentProps.className),...e.buttonComponentProps})]})})}):null}let M=m()("border-transparent grid cursor-pointer items-center justify-center rounded-[10px] border-none bg-surface4 text-text5 hover:bg-surface4-hover hover:text-text5-hover active:bg-surface4-press active:text-text5-press");var U=l(43205),L=l(55077),O=l(55780),T=l(57556),D=l(36502),R=l(77209),G=l(21397),F=l(21782);let z=e=>{let{articleData:t,heading:l,id:r,isEditable:i}=e,s=(0,k.Y)(),o=(0,k.v)(),[d,u]=(0,O.p)({type:"error"}),x=(0,n.useRef)(null),[f,v]=(0,n.useState)(!1),[j,y]=(0,c.y)("local","dic_edit_link_balloon_close"),w=(0,D.n)(),[,N]=(0,g.c)(),_=(0,L.EZ)(),{t:C}=(0,b.b)(),[S]=(0,g.c)(),{data:I}=(0,p.u)(S),{tagName:P}=(0,R.A)(null==I?void 0:I.tagName),Z=(0,n.useMemo)(()=>{if(j)return!1;let e=Date.now();return!(new Date("2024-09-30T00:00:00").getTime()<e)&&"".concat(l,"_").concat(r)===t.tocFirstHeadingId},[t.tocFirstHeadingId]);(0,n.useEffect)(()=>{v(Z)},[Z]);let A=(0,n.useCallback)(()=>{v(!1),y("".concat(!0))},[]),M=(0,n.useCallback)(e=>{if(A(),!w){e.preventDefault(),_((0,G.q)((0,F.X$)(P,{headerGroupEdit:{headingId:r,headingElement:l}})));return}s||u(o)},[A,l,r,s,w,u,P,_]);return!N&&i?(0,a.jsx)("div",{className:"inline-block",children:(0,a.jsxs)(T.u,{text:C("components.article.editThisSection"),children:[(0,a.jsxs)(U.Z,{href:(0,F.X$)(P,{headerGroupEdit:{headingId:r,headingElement:l}}),onClick:M,disabled:!s,ref:x,rel:"nofollow","data-gtm-class":"article-heading_edit","data-gtm-id":"".concat(l,"_").concat(r),className:m()("inline-block","h-[24px]"),children:[(0,a.jsx)(h.Z,{className:m()("text-text3","align-middle","inline-block","h-[28px]"),name:"24/Pencil"}),d]}),Z&&(0,a.jsx)(E,{triggerRef:x,onClose:A,isOpen:f,shouldFlip:!1,placement:"bottom",children:C("components.article.canEditSection")})]})}):null};var H=l.p+"static/media/external.40896d7c.svg",W=l(60032),B=l(40260),q=l(20702);let Y="w-[240px] h-[240px]",V="w-[152px] h-[152px]",J=(0,r.ZP)(W.q.span).withConfig({componentId:"sc-bf8f1f0-0"})([""]);var X=n.memo(function(e){let t=(0,P.d)(),l="ms"!==e.size;return e.acceptLink?e.acceptInfo?t?(0,a.jsx)(K,{props:e,isSmall:l}):(0,a.jsx)(ee,{props:e,isSmall:l}):(0,a.jsx)(Q,{props:e,isSmall:l}):(0,a.jsx)($,{props:e,isSmall:l})});function $(e){var t;let{props:l,isSmall:n}=e;return(0,a.jsx)("span",{className:"mb-8 mr-8 inline-flex [&:last-child]:mr-0",children:(0,a.jsx)(el,{src:null!==(t=l.imageUrl)&&void 0!==t?t:"",alt:"",isSmall:n})})}function Q(e){var t,l;let{props:n,isSmall:r}=e;return(0,a.jsx)("span",{className:"mb-8 mr-8 inline-flex [&:last-child]:mr-0",children:(0,a.jsx)(et,{href:null!==(t=n.illustPageUrl)&&void 0!==t?t:"",target:"_blank",isSmall:r,rel:"nofollow",children:(0,a.jsx)(el,{src:null!==(l=n.imageUrl)&&void 0!==l?l:"",alt:"センシティブな作品",isSmall:r})})})}function K(e){var t,l,n,r;let{props:i,isSmall:s}=e;return(0,a.jsxs)("span",{className:m()("mr-8","[&:last-child]:mr-0","inline-block"),children:[(0,a.jsx)(et,{href:null!==(t=i.illustPageUrl)&&void 0!==t?t:"",target:"_blank",isSmall:s,"gtm-class":"article-body_illust",children:(0,a.jsx)(el,{src:null!==(l=i.imageUrl)&&void 0!==l?l:"",alt:null!==(n=i.illustTitle)&&void 0!==n?n:"",isSmall:s})}),(0,a.jsxs)("span",{className:m()(["pt-4","pb-8"],"relative","flex","flex-col","items-center","justify-center",s?"w-[152px]":"w-[240px]"),children:[(0,a.jsx)(B.S,{className:m()("px-8","typography-12","preserve-half-leading","max-w-full","truncate"),href:null!==(r=i.illustPageUrl)&&void 0!==r?r:"",target:"_blank","gtm-class":"article-body_illust",children:i.illustTitle}),(0,a.jsxs)("span",{className:m()("max-w-full","flex","items-center"),children:[(0,a.jsx)("span",{className:m()("text-text2","typography-12","preserve-half-leading","mr-4","min-w-[15px]"),children:"by"}),(0,a.jsx)(B.S,{className:m()("typography-12","preserve-half-leading","truncate"),href:i.authorUrl,target:"_blank","gtm-class":"article-body_illust-author",children:i.author})]})]})]})}function ee(e){var t,l,r,i,s;let{props:o,isSmall:c}=e,d=(0,P.d)(),[u,x]=(0,n.useState)(!1),h=(0,W.q_)({transform:u?"translateY(0%)":"translateY(100%)"});return(0,a.jsx)("span",{className:m()("cursor-pointer","mb-8","mr-8","[&:last-child]:mr-0","inline-block"),children:(0,a.jsxs)("span",{className:m()("block","relative","overflow-hidden","rounded-8","[outline:_1px_solid_rgba(0_0_0/.08)]","-outline-offset-1",[c?V:Y]),onMouseEnter:()=>x(!d),onMouseLeave:()=>x(!1),children:[(0,a.jsx)(et,{href:null!==(t=o.illustPageUrl)&&void 0!==t?t:"",target:"_blank",isSmall:c,"gtm-class":"article-body_illust",children:(0,a.jsx)(el,{src:null!==(l=o.imageUrl)&&void 0!==l?l:"",alt:null!==(r=o.illustTitle)&&void 0!==r?r:"",isSmall:c})}),(0,a.jsx)(J,{className:m()("block",["absolute","bottom-0","left-0"],"w-full",c?"h-[52px]":"h-[30px]","bg-[#000000a3]","text-text5"),style:{...h},children:c?(0,a.jsxs)("span",{className:m()("m-auto","block"),children:[(0,a.jsx)(B.S,{className:m()(["px-8","pt-4","pb-0"],"block",["text-text5","typography-14","text-start","preserve-half-leading"],"truncate"),href:null!==(i=o.illustPageUrl)&&void 0!==i?i:"",target:"_blank","gtm-class":"article-body_illust",children:o.illustTitle}),(0,a.jsxs)("span",{className:m()("m-0","px-8","py-0","flex","items-center"),children:[(0,a.jsx)("span",{className:m()(["text-text5","typography-14","preserve-half-leading"],"mr-4","min-w-[15px]"),children:"by"}),(0,a.jsx)(B.S,{className:m()(["text-text5","typography-14","preserve-half-leading"],"p-0","items-start","truncate"),href:o.authorUrl,target:"_blank","gtm-class":"article-body_illust-author",children:o.author})]})]}):(0,a.jsxs)("span",{className:m()("m-auto","flex","items-center"),children:[(0,a.jsx)(B.S,{className:m()(["p-8","text-text5","typography-14","text-start"],"w-[60%]","truncate"),href:null!==(s=o.illustPageUrl)&&void 0!==s?s:"",target:"_blank","gtm-class":"article-body_illust",children:o.illustTitle}),(0,a.jsxs)("span",{className:m()("ml-auto","p-8","w-[27%]","flex","items-center"),children:[(0,a.jsx)("span",{className:m()(["text-text5","typography-14"],"mr-4","min-w-[15px]"),children:"by"}),(0,a.jsx)(B.S,{className:m()(["text-text5","typography-14","text-start"],"h-[14px]","truncate"),href:o.authorUrl,target:"_blank","gtm-class":"article-body_illust-author",children:o.author})]})]})})]})})}let et=e=>{let{isSmall:t,children:l,...n}=e;return(0,a.jsx)(B.S,{className:m()(t?V:Y),...n,children:l})},el=e=>{let{isSmall:t,src:l,alt:n,...r}=e,[i,s]=(0,q.Z)({once:!0},{rootMargin:"200px"});return(0,a.jsx)("img",{className:m()("block","rounded-8","object-cover","object-top",t?V:Y),ref:i,src:s?l:"",alt:n||"",...r})};var ea=n.memo(function(e){return e.acceptLink?(0,a.jsxs)("li",{className:m()("mb-9","max-w-[484px]","flex"),children:[(0,a.jsx)(B.S,{href:e.pageUrl,target:"_blank","gtm-class":"article-body_novel",children:(0,a.jsx)("img",{className:m()("rounded-8","mr-16","w-[80px]","h-[112px]"),src:e.smallCoverUrl,alt:""})}),(0,a.jsxs)("div",{className:m()("break-words","[overflow-wrap:anywhere]"),children:[e.seriesTitle&&e.seriesPageUrl?(0,a.jsx)(B.S,{href:e.seriesPageUrl,target:"_blank","gtm-class":"article-body_novel-series",children:(0,a.jsx)("div",{className:m()(["typography-14","text-text3"],"mb-8","break-words"),children:e.seriesTitle})}):null,(0,a.jsx)(B.S,{href:e.pageUrl,target:"_blank","gtm-class":"article-body_novel",children:(0,a.jsx)("h3",{className:m()(["typography-14","font-bold","text-text1"],"my-4"),children:e.title})}),(0,a.jsxs)("div",{className:m()("my-4","flex","items-center"),children:[(0,a.jsx)(B.S,{className:"flex",href:e.authorPageUrl,target:"_blank","gtm-class":"article-body_novel-author",children:(0,a.jsx)("img",{className:m()("rounded-16","mr-4","w-[16px]","h-16"),src:e.profileSmallImageUrl,alt:""})}),(0,a.jsx)(B.S,{href:e.authorPageUrl,target:"_blank","gtm-class":"article-body_novel-author",children:(0,a.jsx)("div",{className:m()("typography-12","text-text2"),children:e.author})})]}),""!=e.comment?(0,a.jsx)("div",{className:m()("typography-14","text-text2","my-4","break-words","line-clamp-3"),children:e.comment}):null,(0,a.jsxs)("div",{className:m()("my-4","flex"),children:[(0,a.jsxs)("span",{className:m()("typography-12","text-text3","mr-8"),children:[e.textLength,"文字"]}),(0,a.jsxs)(U.Z,{className:m()(["typography-12","text-text3"],"items-center","no-underline","hover:underline"),href:e.pageUrl,target:"_blank","gtm-class":"article-body_novel",children:["pixiv小説作品",(0,a.jsx)(h.Z,{name:"Inline/External",fixedSize:10,className:"ml-8"})]})]})]})]}):(0,a.jsx)(en,{props:e})});function en(e){let{props:t}=e,l=(0,P.d)();return(0,a.jsx)("span",{className:m()("block","mb-8",l?"[line-height:initial]":"[line-height:0]"),children:(0,a.jsx)("img",{className:m()("rounded-8","mr-16","w-[80px]","h-[112px]"),src:t.smallCoverUrl,alt:""})})}var er=l(21355);let ei=(0,n.memo)(function(e){let{nodes:t,articleData:l,isArticle:n,isMobile:r}=e;return(0,a.jsx)(a.Fragment,{children:t.map((e,t)=>(0,a.jsx)(es,{node:e,articleData:l,isArticle:n,isMobile:r},t))})}),es=(0,n.memo)(function(e){var t,l,n,r,i;let{node:s,articleData:o,isArticle:c,isMobile:d}=e;switch(s.tag){case"p":if(s.children[0]&&("pixiv_image"===s.children[0].tag||"pixiv_novel"===s.children[0].tag))return(0,a.jsx)("div",{className:m()("block","typography-14","mt-16","mb-8"),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});return(0,a.jsx)("p",{className:m()("flow-root","break-words","text-text2","typography-14","[line-height:24px]","my-[12px]","mx-0"),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"text":return(0,a.jsx)(a.Fragment,{children:s.text});case"bold":return(0,a.jsx)("b",{className:m()("typography-14","font-bold","text-text2","inline","after:[display:initial]","before:[display:initial]"),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"italic":return(0,a.jsx)("i",{children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"article_link":if("ja"===s.lang){if(o.tagNameListInArticleJa.find(e=>{var t;return e.toLowerCase()===(null===(t=s.to)||void 0===t?void 0:t.toLowerCase())}))return(0,a.jsx)(eo,{href:"/a/".concat(encodeURIComponent(s.to)),"gtm-class":"article-body_article","gtm-id":s.to,target:c?"_self":"_blank",alwaysShowUnderline:!0,locale:"ja",children:s.text});return(0,a.jsx)(ec,{href:"/a/".concat(encodeURIComponent(s.to)),target:c?"_self":"_blank",alwaysShowUnderline:!0,locale:"ja",children:s.text})}if(o.tagNameListInArticleEn.find(e=>{var t;return e.toLowerCase()===(null===(t=s.to)||void 0===t?void 0:t.toLowerCase())}))return(0,a.jsx)(eo,{href:"/en/a/".concat(encodeURIComponent(s.to)),"gtm-class":"article-body_article-en","gtm-id":s.to,target:c?"_self":"_blank",alwaysShowUnderline:!0,children:s.text});return(0,a.jsx)(ec,{href:"/en/a/".concat(encodeURIComponent(s.to)),target:c?"_self":"_blank",alwaysShowUnderline:!0,children:s.text});case"external_link":let u=/^(https:\/\/www\.pixiv\.net\/|https:\/\/dic\.pixiv\.net\/)/.test(s.to)?"noopener":"noopener nofollow";return(0,a.jsx)(B.S,{className:m()("w-max","inline","pr-[0.65em]","break-words","mr-[2px]",["bg-no-repeat","bg-right","bg-center","[background-size:0.65em]"]),alwaysShowUnderline:!0,style:{backgroundImage:"url(".concat(H,")")},href:"".concat(s.to),target:"_blank",rel:u,"gtm-class":"article-body_external",children:s.text});case"pixiv_image":return o.illustListInArticle[s.id]?(0,a.jsx)(X,{...Object.assign(o.illustListInArticle[s.id],{size:null!==(t=s.size)&&void 0!==t?t:"ms"})}):null;case"pixiv_novel":return o.novelListInArticle[s.id]?(0,a.jsx)(ea,{...o.novelListInArticle[s.id]}):null;case"youtube":return(0,a.jsx)("iframe",{className:m()("rounded-8","border-none"),width:"100%",height:d?"282":"349",src:"https://www.youtube.com/embed/".concat(s.id,"?start=").concat(s.timing),allowFullScreen:!0});case"nicovideo":return(0,a.jsx)("iframe",{className:m()("rounded-8","border-none"),width:"100%",height:d?"282":"349",src:"https://embed.nicovideo.jp/watch/".concat(s.id,"?from=").concat(s.timing),allowFullScreen:!0});case"header":return(0,a.jsxs)(a.Fragment,{children:[d&&(0,a.jsx)("summary",{className:m()("block","[&::-webkit-details-marker]:hidden",["border-t-0","border-l-0","border-r-0","border-b-[1px]","border-solid","border-[rgb(0_0_0/.08)]"]),"data-gtm-class":"article-headline",id:"article-h2",children:(0,a.jsxs)("span",{className:m()("flex","flex-row","justify-between","items-center"),children:[(0,a.jsxs)("h2",{className:m()("typography-20","font-bold","mt-0","mb-16","py-4"),children:[(0,a.jsx)("span",{className:"mr-8",children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})}),(0,a.jsx)(z,{articleData:o,heading:"h2",id:s.link_id,isEditable:null!==(l=o.isEditable)&&void 0!==l&&l})]}),(0,a.jsx)(h.Z,{name:"24/PullDown",className:"mb-16 ml-16 text-text3 transition-transform duration-[400ms]"})]})}),!d&&(0,a.jsxs)("div",{className:m()("flex","items-center","preserve-half-leading"),children:[(0,a.jsxs)("h2",{className:m()("inline","items-center","py-[12px]","mb-0",["typography-20","font-bold","text-text1","preserve-half-leading"],"scroll-mt-[80px]"),id:"h2_".concat(s.link_id),children:[(0,a.jsx)("span",{className:"mr-8",children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})}),(0,a.jsx)(z,{articleData:o,heading:"h2",id:s.link_id,isEditable:null!==(n=o.isEditable)&&void 0!==n&&n})]}),(0,a.jsx)("div",{className:m()("h-[1px]","flex-grow","bg-[rgb(0_0_0/.08)]","ml-8","mt-16")})]})]});case"sub_header":return(0,a.jsxs)("h3",{className:m()(["typography-16","font-bold","text-text1"],"pt-[12px]","pb-4","mt-0","mb-8",d?"scroll-mt-[96px]":"scroll-mt-[80px]"),id:"h3_".concat(s.link_id),children:[(0,a.jsx)("span",{className:"mr-8",children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})}),(0,a.jsx)(z,{articleData:o,heading:"h3",id:s.link_id,isEditable:null!==(r=o.isEditable)&&void 0!==r&&r})]});case"sub_sub_header":return(0,a.jsxs)("h4",{className:m()(["typography-14","font-bold","text-text1"],"pt-8","mt-0","mb-8","preserve-half-leading",d?"scroll-mt-[96px]":"scroll-mt-[80px]"),id:"h4_".concat(s.link_id),children:[(0,a.jsx)("span",{className:"mr-8",children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})}),(0,a.jsx)(z,{articleData:o,heading:"h4",id:s.link_id,isEditable:null!==(i=o.isEditable)&&void 0!==i&&i})]});case"table":return(0,a.jsx)("div",{className:m()("overflow-x-auto","w-full","[-webkit-overflow-scrolling:touch]","break-words"),id:"article-table",children:(0,a.jsx)("table",{className:m()("w-full",["border-collapse","border-spacing-0","border-[1px]","border-solid","border-[#ddd]"]),children:(0,a.jsx)("tbody",{children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})})})});case"table_row":return(0,a.jsx)("tr",{children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"table_header":return(0,a.jsx)("th",{className:m()("p-8","text-text2","typography-14","font-bold","border-[1px]","border-solid","border-[rgb(0_0_0/.08)]","text-left","align-top","bg-[#f5f5f5]","whitespace-nowrap"),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"table_cell":return(0,a.jsx)("td",{className:m()("px-8","py-4",["text-text2","typography-14","preserve-half-leading","[line-height:24px]"],["border-[1px]","border-solid","border-[rgb(0_0_0/.08)]"],"align-top","[word-break:break-all]","[&_li]:[line-height:24px]"),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"unordered_list":return(0,a.jsx)("ul",{className:m()("pl-24",["[&>li]:my-8","[&>li]:mx-0","[&>li]:list-item","[&>li]:list-disc"]),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"list_item":return s.children.length>0?(0,a.jsx)("li",{className:m()("typography-14","text-text2","preserve-half-leading","[line-height:24px]"),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})}):null;case"numbered_list":return(0,a.jsx)("ol",{className:m()("pl-24","[&>li]:list-item","[&>li]:my-8","[&>li]:mx-0","[line-height:24px]"),children:(0,a.jsx)(ei,{nodes:s.children,articleData:o,isArticle:c,isMobile:d})});case"br":return(0,a.jsx)("span",{className:m()("block","content-['']","px-0","pt-[7px]","[&:has(+span:empty)]:pt-[24px]")});default:return(0,er.t)(s)}}),eo=e=>{let{className:t,children:l,...n}=e;return(0,a.jsx)(B.S,{className:m()(t,"inline"),...n,children:l})},ec=e=>{let{className:t,children:l,...n}=e;return(0,a.jsx)(B.S,{className:m()(t,"inline"),...n,variant:"no-link",children:l})},ed=(0,n.memo)(function(e){let{isArticle:t,articleData:l}=e,r=(0,n.useMemo)(()=>JSON.parse(l.nodes),[l.nodes]),{tocGroups:i,getHeaderId:s,headerFirstTagName:o}=function(e){let{nodes:t}=e;function l(e){let t=null==e?void 0:e.nodes[0];if(!t)return"none";switch(t.tag){case"header":case"sub_header":case"sub_sub_header":return t.tag;default:return"none"}}let a=(0,n.useMemo)(()=>{let e=[{nodes:[],subGroups:[]}];return t.forEach(t=>{let a=e[e.length-1],n=a.subGroups[a.subGroups.length-1],r=null==n?void 0:n.subGroups[n.subGroups.length-1];if("header"===t.tag){e.push({nodes:[t],subGroups:[]});return}if("sub_header"===t.tag){"header"===l(a)?a.subGroups.push({nodes:[t],subGroups:[]}):e.push({nodes:[t],subGroups:[]});return}if("sub_sub_header"===t.tag){"header"===l(a)&&"sub_header"===l(n)?n.subGroups.push({nodes:[t],subGroups:[]}):"header"===l(a)||"sub_header"===l(a)?a.subGroups.push({nodes:[t],subGroups:[]}):e.push({nodes:[t],subGroups:[]});return}"header"===l(a)&&"sub_header"===l(n)&&"sub_sub_header"===l(r)?n.subGroups[n.subGroups.length-1].nodes.push(t):"header"===l(a)&&"sub_header"===l(n)?n.nodes.push(t):"header"===l(a)&&"sub_sub_header"===l(n)?n.nodes.push(t):"sub_header"===l(a)&&"sub_sub_header"===l(n)?n.nodes.push(t):a.nodes.push(t)}),e.filter(e=>e.nodes.length>0)},[t]),r=(0,n.useCallback)(e=>"header"===e.tag?"h2_".concat(e.link_id):"sub_header"===e.tag?"h3_".concat(e.link_id):"sub_sub_header"===e.tag?"h4_".concat(e.link_id):void(0,er.t)(),[]),i=(0,n.useMemo)(()=>{let e=a.find(e=>"header"===e.nodes[0].tag||"sub_header"===e.nodes[0].tag||"sub_sub_header"===e.nodes[0].tag);return e?e.nodes[0].tag:""},[a]);return{tocGroups:a,getHeaderId:r,headerFirstTagName:i}}({nodes:r}),c=(0,j.Z)(r);return(0,a.jsxs)(a.Fragment,{children:[t&&!c&&(0,a.jsx)(N,{articleData:l}),(0,a.jsx)(eu,{isArticle:t,articleData:l,tocGroups:i,getHeaderId:s,headerFirstTagName:o,showAdAboveHeader:c})]})});function eu(e){let{isArticle:t,articleData:l,tocGroups:n,getHeaderId:r,headerFirstTagName:i,showAdAboveHeader:s}=e,o=(0,P.d)();return(0,a.jsx)(a.Fragment,{children:n.map((e,n)=>{if("header"===e.nodes[0].tag||"sub_header"===e.nodes[0].tag||"sub_sub_header"===e.nodes[0].tag){let n=r(e.nodes[0]);return(0,a.jsxs)("div",{"data-header-id":n,children:[e.nodes[0].tag===i&&0===e.nodes[0].link_id&&(0,a.jsx)(v,{pageType:t?"article":"confirm"}),t&&s&&"header"===e.nodes[0].tag&&0===e.nodes[0].link_id&&(0,a.jsx)(N,{articleData:l}),(0,a.jsx)(ei,{nodes:e.nodes,isArticle:t,articleData:l,isMobile:o}),e.subGroups.length>0&&(0,a.jsx)(eu,{isArticle:t,articleData:l,tocGroups:e.subGroups,getHeaderId:r,showAdAboveHeader:!1,headerFirstTagName:i})]},n)}return(0,a.jsx)("div",{id:"article-abstract",children:(0,a.jsx)(ei,{nodes:e.nodes,isArticle:t,articleData:l,isMobile:o})},n)})})}function em(e){let{isArticle:t,articleData:l}=e;return d(),(0,a.jsxs)(ex,{children:[(0,a.jsx)(i.Z,{articleData:l}),(0,a.jsx)(ed,{isArticle:t,articleData:l})]})}let ex=r.ZP.div.withConfig({componentId:"sc-b5f268e-0"})(["width:100%;"]);var eh=l(75017),ep=l(68398);let ef=(0,n.memo)(function(e){let{isOpen:t,onInput:l,headerIndex:r,children:i,articleData:s,isArticle:o,isFirstHeaderGroupExpanded:c}=e,{t:d}=(0,b.b)(),u=(0,n.useRef)(null),x=c?r>2?"others":r:r>1?"others":r+1,h=()=>{if(!u.current)return;let e=u.current.getBoundingClientRect();0<e.top&&e.bottom<window.innerHeight||window.scrollTo({top:window.scrollY+e.top,behavior:"auto"})},p=(0,n.useCallback)(e=>{l(e.currentTarget.open)},[l]),f=(0,n.useCallback)(()=>{u.current&&(l(!1),h())},[l]),[g,v]=(0,n.useState)(t);return(0,n.useEffect)(()=>{v(e=>e||t)},[t]),(0,a.jsxs)("details",{className:m()("pt-[12px]",["pb-16","open:pb-0"],"[&_pixiv-icon[name='24/PullDown']]:open:rotate-180","[&_>_summary]:open:mb-16","scroll-mt-[96px]"),open:t,onToggle:p,id:"details_".concat(r),ref:u,children:[i,(0,a.jsx)("button",{className:eg,onClick:f,"data-gtm-class":"article-headline_close-textlink",children:d("components.article.closeThisSection")}),o&&g&&s.ads&&(0,a.jsx)("div",{id:"d-sp-itemarticle".concat(x),children:(0,a.jsx)(y.Z,{className:m()("mb-[36px] mt-[20px] h-[250px]",ep.b),query:{zoneId:"d_sp_itemarticle".concat(x),ng:s.ads},targetScreen:"mobile",sizingMethod:"scaled_by_width",defaultWidth:300,defaultHeight:250,maxScaledWidth:300})})]})}),eg=m()("text-[14px]",["my-[16px]","mx-auto"],"border-none","block","cursor-pointer","text-left","bg-transparent",["text-dlink","no-underline"],["hover:text-dlink-hover","hover:underline"],["active:text-dlink-active","active:underline"]);function eb(e){let{isArticle:t,articleData:l,initialHeaderOpenState:r}=e,s=(0,n.useMemo)(()=>JSON.parse(l.nodes),[l.nodes]),o=(0,j.Z)(s),c=(0,eh.$)({nodes:s}),{getHeaderOpen:u,setHeaderOpen:x,isHeaderAllOpen:h,handleToggleAllHeaders:p,setAllHeaderOpenState:f,headerOpenState:g}=(0,eh.S)({headerGroups:c,initialHeaderOpenState:r}),v=(0,P.d)(),{t:w}=(0,b.b)(),N=(0,n.useMemo)(()=>{var e;return(null===(e=c[0][0])||void 0===e?void 0:e.tag)!=="header"},[c]);return d({headerOpenState:g,setAllHeaderOpenState:f}),(0,a.jsxs)(ev,{children:[(0,a.jsx)(i.v,{}),N&&(0,a.jsx)(ei,{nodes:c[0],articleData:l,isArticle:t,isMobile:v}),o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:m()("mx-auto","mt-16","mb-24","typography-14","border-0","block","cursor-pointer","text-left","bg-transparent",["text-dlink","no-underline"],["hover:text-dlink-hover","hover:underline"],["active:text-dlink-active","active:underline"]),onClick:p,"data-gtm-class":h?"article-all-headline-close":"article-all-headline",children:w(h?"components.article.closeAllSections":"components.article.openAllSections")}),t&&l.ads&&(0,a.jsx)(y.Z,{className:m()("h-[250px]",ep.b),query:{zoneId:"d_sp_toparticle",ng:l.ads},targetScreen:"mobile",sizingMethod:"scaled_by_width",defaultWidth:300,defaultHeight:250,maxScaledWidth:300})]}),c.map((e,n)=>0===n&&N?null:(0,a.jsx)(ef,{isOpen:u(n),onInput:e=>x(n,e),headerIndex:n,articleData:l,isArticle:t,isFirstHeaderGroupExpanded:N,children:(0,a.jsx)(ei,{nodes:e,articleData:l,isArticle:t,isMobile:v})},"details_".concat(n)))]})}let ev=r.ZP.div.withConfig({componentId:"sc-681e9fa3-0"})(["min-width:100%;"]);var ej=n.memo(function(e){let t="article"===e.pageType,[l]=(0,g.c)(),{data:n}=(0,p.u)(l),{data:r}=(0,f.w)(),i=t?n:r;return void 0==i?null:(0,a.jsx)(ey,{isArticle:t,articleData:i,initialHeaderOpenState:e.initialHeaderOpenState},i.tagName)});let ey=n.memo(function(e){let{isArticle:t,articleData:l,initialHeaderOpenState:n}=e;return(0,P.d)()?(0,a.jsx)(eb,{isArticle:t,articleData:l,initialHeaderOpenState:n}):(0,a.jsx)(em,{isArticle:t,articleData:l})})},29014:function(e,t,l){l.d(t,{Z:function(){return n}});var a=l(67294);function n(e){let t=(0,a.useRef)(0),l=(0,a.useRef)(""),n=(0,a.useCallback)(()=>{let a=document.documentElement.scrollTop,n=window.location.hash;for(let r of e)if(null!==r.current){if(n!==l.current){r.current.style.top="0";continue}t.current<a?r.current.style.top="0":window.scrollY<=100?r.current.style.top="0":r.current.style.top="72px"}t.current=a,l.current=n},[l,t,e]);(0,a.useEffect)(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[n])}},39115:function(e,t,l){l.d(t,{Z:function(){return n}});var a=l(67294);function n(e){return(0,a.useMemo)(()=>e.some(e=>"header"===e.tag),[e])}},75017:function(e,t,l){l.d(t,{$:function(){return n},S:function(){return r}});var a=l(67294);function n(e){let{nodes:t}=e;return(0,a.useMemo)(()=>{let e=[[]];return t.forEach(t=>{"header"===t.tag?e.push([t]):e[e.length-1].push(t)}),e.filter(e=>e.length>0)},[t])}function r(e){let{headerGroups:t,initialHeaderOpenState:l}=e,[n,r]=(0,a.useState)(Object.fromEntries(t.map((e,t)=>{var a,n;return(null===(a=e[0])||void 0===a?void 0:a.tag)!=="header"?null:[t,null!==(n=null==l?void 0:l[t])&&void 0!==n&&n]}).filter(e=>null!==e))),i=(0,a.useCallback)(e=>n[e],[n]),s=(0,a.useCallback)((e,t)=>{r(l=>({...l,[e]:t}))},[]),o=(0,a.useMemo)(()=>Object.values(n).every(e=>e),[n]),c=(0,a.useCallback)(()=>{r(e=>Object.fromEntries(Object.keys(e).map(e=>[e,!o])))},[o]);return{getHeaderOpen:i,setHeaderOpen:s,isHeaderAllOpen:o,handleToggleAllHeaders:c,setAllHeaderOpenState:(0,a.useCallback)(e=>{r(e)},[]),headerOpenState:n}}},72444:function(e,t,l){l.d(t,{Z:function(){return i}});var a=l(67294),n=l(79700),r=l(77209);function i(e){let{locale:t,t:l}=(0,n.b)(),{encodedTagName:i}=(0,r.A)(e);return(0,a.useMemo)(()=>{let a="en"===t?"/en":"";return"https://twitter.com/intent/tweet?"+new URLSearchParams({text:l("components.article.xShareUrlText",{tagName:e}),url:"https://dic.pixiv.net".concat(a,"/a/").concat(i,"?utm_source=twitter&utm_medium=social&utm_campaign=article"),hashtags:"".concat(l("components.article.xShareUrlHashtag"),",pixiv")}).toString()},[t,l,e])}},78043:function(e,t,l){l.d(t,{$H:function(){return v},ZP:function(){return j}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(53217),o=l(55077),c=l(55780),d=l(92330),u=l(17060),m=l(77221),x=l(33530),h=l(36502),p=l(79700),f=l(77209),g=l(98674);let b=(0,n.createContext)({isChecklist:!1,addToChecklist:()=>void 0,removeFromChecklist:()=>void 0,resetChecklist:()=>void 0,checklistCount:0}),v=e=>{var t;let{children:l}=e,{encodedTagName:r,tagName:i}=(0,f.A)(),{data:s}=(0,u.u)(r),{data:o}=(0,m.A)(i),[c,d]=(0,n.useState)(null!==(t=null==s?void 0:s.isOnChecklist)&&void 0!==t&&t),[x,h]=(0,n.useState)(0),p=(0,n.useCallback)(()=>{d(!0),h(1)},[]),g=(0,n.useCallback)(()=>{d(!1),h(-1)},[]),v=(0,n.useCallback)(()=>{var e;d(null!==(e=null==s?void 0:s.isOnChecklist)&&void 0!==e&&e),h(0)},[s]),j=(0,n.useMemo)(()=>{var e;return(null!==(e=null==o?void 0:o.checklistCount)&&void 0!==e?e:0)+x},[null==o?void 0:o.checklistCount,x]);return(0,n.useEffect)(()=>{v()},[v]),(0,a.jsx)(b.Provider,{value:{isChecklist:c,addToChecklist:p,removeFromChecklist:g,resetChecklist:v,checklistCount:j},children:l})};function j(){let{isChecklist:e,addToChecklist:t,removeFromChecklist:l,resetChecklist:r,checklistCount:m}=(0,n.useContext)(b),{locale:v,t:j}=(0,p.b)(),[y]=(0,x.c)(),{data:w}=(0,u.u)(y),{tagName:N}=(0,f.A)(null==w?void 0:w.tagName),[k,_]=(0,c.p)({type:"success"}),[C,S]=(0,c.p)({type:"error"}),I=(0,h.n)(),P=(0,o.EZ)(),Z=(0,n.useCallback)(async a=>{var n,i;if(!I){a.preventDefault(),P();return}if(e)try{let{response:e}=await d.L.POST("/remove_from_checklist/{tagName}",{params:{path:{tagName:N},query:{lang:v}}}),t=e.status;200===t?(_(j("components.checklist.removedFromCheckList")),null!==(i=null==w?void 0:w.isOnChecklist)&&void 0!==i&&i?l():r()):S(j("components.checklist.failedRemoveCheckList"))}catch(e){S(j("components.checklist.failedRemoveCheckList"))}else try{let{response:e}=await d.L.POST("/add_to_checklist/{tagName}",{params:{path:{tagName:N},query:{lang:v}}}),l=e.status;200===l?(_(j("components.checklist.registeredInCheckList")),null!==(n=null==w?void 0:w.isOnChecklist)&&void 0!==n&&n?r():t()):S(j("components.checklist.failedAddCheckList"))}catch(e){S(j("components.checklist.failedAddCheckList"))}},[I,e,N,_,null==w?void 0:w.isOnChecklist,r,t,S,l,P,v,j]);return(0,a.jsxs)("div",{className:i()("flex","items-center"),title:j("components.checklist.addToCheckList"),children:[(0,a.jsx)("button",{className:i()("block","w-[32px]","h-[32px]","p-0","m-0","border-none","no-underline","cursor-pointer","bg-transparent"),onClick:Z,"data-gtm-class":"checklist",children:(0,a.jsx)(s.Z,{name:e?"32/BookmarkOn":"32/BookmarkOff",className:"text-text3"})}),(0,a.jsx)("div",{className:i()("text-text3","typography-14"),children:(0,g._)(m)}),k,C]})}},79225:function(e,t,l){l.d(t,{g:function(){return n}});var a=l(85893);function n(e){let{size:t=24,fill:l="var(--charcoal-service-x)"}=e;return(0,a.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M13.5186 10.7714L19.3439 4H17.9635L12.9054 9.87954L8.86547 4H4.20593L10.315 12.8909L4.20593 19.9918H5.58642L10.9279 13.7828L15.1943 19.9918H19.8539L13.5182 10.7714H13.5186ZM11.6278 12.9692L11.0088 12.0839L6.08383 5.03921H8.20417L12.1787 10.7245L12.7977 11.6098L17.9641 18.9998H15.8438L11.6278 12.9696V12.9692Z",fill:l})})}},41638:function(e,t,l){l.d(t,{M:function(){return b}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(67421),o=l(19521),c=l(45462),d=l(91898),u=l(99383),m=l(21710),x=l(70259),h=l(23569),p=l(69519),f=l(92330),g=l(79700);let b=e=>{let t=(0,p.d)(),{locale:l,t:r}=(0,g.b)(),[o,b]=(0,n.useState)(!1),[N,k]=(0,n.useState)(!1),[_,C]=(0,n.useState)(!1),[S,I]=(0,n.useState)(!1),[P,Z]=(0,n.useState)(!1),[A,E]=(0,n.useState)(""),[M,U]=(0,n.useState)("1"),L=(0,n.useMemo)(()=>[{label:r("components.modal.reportProblem.options1"),value:"1"},{label:r("components.modal.reportProblem.options2"),value:"2"},{label:r("components.modal.reportProblem.options3"),value:"3"},{label:r("components.modal.reportProblem.options4"),value:"4"},{label:r("components.modal.reportProblem.options5"),value:"5"},{label:r("components.modal.reportProblem.options99"),value:"99"}],[r]),O=(0,n.useCallback)(()=>{E(""),Z(!1),k(!1),C(!1)},[]),T=()=>{e.setIsShow(!1)},D=()=>{T(),b(!1)};(0,n.useEffect)(()=>{k(!1),C(!1)},[M]),(0,n.useEffect)(()=>{_&&(P?k(!0):k(!1))},[_,P]);let R=async()=>{if(N||S)return;if(P){C(!0),k(!0);return}I(!0);let t={problemTopic:Number(M),description:A,articleName:e.tagName,locale:l};try{await f.L.POST("/send_report",{body:t}),O()}catch(e){console.error("エラー:",e)}finally{b(!0),I(!1)}};return(0,a.jsx)(c.Z,{title:o?"":r("components.modal.reportProblem.title"),fixedHeaderHeight:!0,show:e.isShow,onClose:o?D:T,showCloseIcon:!o,modalWidth:o?t?327:336:440,mobilePopupStyle:o,ignoreOverFlowForContentArea:!0,children:o?(0,a.jsx)(u.m,{onClose:D,title:r("components.modal.reportProblem.sent"),closeText:r("components.modal.reportProblem.close")}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.ZP,{children:[(0,a.jsxs)("div",{className:i()("mt-16","mb-24"),children:[(0,a.jsx)("h2",{className:i()(["typography-14","font-bold","text-text1","[line-height:22px]"],"mt-0","mb-4",["flex","items-start"]),children:r("components.modal.reportProblem.type")}),(0,a.jsx)(x.Z,{options:L,onChange:e=>{U(e.target.value),k(!1),C(!1)},value:M})]}),(0,a.jsx)("div",{className:"mb-24",children:(0,a.jsx)(h.Z,{disabled:S,value:A,onChange:E,onInvalid:Z,validating:_,maxLength:4906,labelText:r("components.modal.reportProblem.details"),requiredText:r("components.modal.reportProblem.required"),assistiveValidText:r("components.modal.reportProblem.assistive"),assistiveInvalidText:"",placeholderText:r("components.modal.reportProblem.detailsPlaceholder")})}),(0,a.jsxs)(v,{children:[(0,a.jsx)(j,{children:(0,a.jsx)("pixiv-icon",{name:"16/Info"})}),(0,a.jsx)(w,{children:(0,a.jsx)(s.cC,{i18nKey:"components.modal.reportProblem.information",t:r,components:{bold:(0,a.jsx)(y,{})}})})]})]}),(0,a.jsx)(m.Z,{cancelButton:!0,cancelButtonLabel:r("components.modal.reportProblem.cancel"),onCancelClick:T,okButtonLabel:r("components.modal.reportProblem.okButtonLabel"),okButtonDisabled:N||S,onOkClick:R,simple:!0,stacked:!0,big:!0})]})})},v=o.ZP.div.withConfig({componentId:"sc-9dc2269c-0"})(["display:flex;align-items:flex-start;background-color:",";color:",";padding:12px 16px;border-radius:8px;font-size:14px;"],e=>{let{theme:t}=e;return t.color.surface3},e=>{let{theme:t}=e;return t.color.text3}),j=o.ZP.div.withConfig({componentId:"sc-9dc2269c-1"})(["margin:3px 0;color:",";"],e=>{let{theme:t}=e;return t.color.text3}),y=o.ZP.span.withConfig({componentId:"sc-9dc2269c-2"})(["color:",";font-weight:bold;"],e=>{let{theme:t}=e;return t.color.text2}),w=o.ZP.div.withConfig({componentId:"sc-9dc2269c-3"})(["color:",";letter-spacing:-0.4px;margin-left:4px;line-height:22px;"],e=>{let{theme:t}=e;return t.color.text2})},57556:function(e,t,l){l.d(t,{u:function(){return x}});var a=l(85893),n=l(67294),r=l(25299),i=l(93967),s=l.n(i),o=l(52378),c=l(69071);function d(e){let{tooltipProps:t,style:l,tooltipRef:r}=function(e){let{triggerRef:t,id:l,state:a}=e,r=(0,n.useRef)(null),{tooltipProps:i}=(0,c.l)({id:l},a),{overlayProps:s,arrowProps:d,placement:u}=(0,o.t)({overlayRef:r,targetRef:t,containerPadding:16,boundaryElement:void 0,offset:0,isOpen:a.isOpen,placement:"top"});return{tooltipRef:r,tooltipProps:i,style:s.style,arrowProps:d,placement:u}}(e);return(0,a.jsx)("div",{className:s()("mt-16 box-border flex max-w-[184px] items-center justify-center rounded-4 bg-surface8 px-[12px] py-8"),ref:r,id:e.id,style:l,role:t.role,onPointerEnter:t.onPointerEnter,onPointerLeave:t.onPointerLeave,children:(0,a.jsx)("div",{className:s()("w-full text-center font-normal text-text5 typography-12"),children:e.text})})}var u=l(85172),m=l(52055);let x=function(e){let{defaultOpen:t,className:l,disabled:i,text:o,children:c}=e,{id:x,state:h,triggerProps:p,triggerRef:f,onClick:g}=function(e){let{defaultOpen:t,disabled:l}=e,a=n.useRef(null),r=(0,n.useMemo)(()=>({isDisabled:l,defaultOpen:t,delay:200,closeDelay:0}),[t,l]),i=(0,m.O)(r),{triggerProps:s,tooltipProps:o}=(0,u.Q)(r,i,a),c=(0,n.useCallback)(e=>{e.target instanceof Element&&a.current&&a.current.contains(e.target)||(i.close(),window.removeEventListener("pointerdown",c))},[i]);(0,n.useEffect)(()=>(i.isOpen&&window.addEventListener("pointerdown",c),()=>{window.removeEventListener("pointerdown",c)}),[c,i]);let d=(0,n.useCallback)(e=>{if(!l&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0){if(i.isOpen){e.preventDefault();return}i.open(),window.addEventListener("pointerdown",c)}},[l,c,i]);return{triggerRef:a,triggerProps:s,state:i,onClick:d,id:o.id}}({defaultOpen:t,disabled:i});return(0,a.jsxs)("div",{className:s()("inline-block w-fit",l),"aria-describedby":p["aria-describedby"],ref:f,onPointerEnter:p.onPointerEnter,onPointerLeave:p.onPointerLeave,onClick:g,children:[c,h.isOpen&&(0,a.jsx)(r.aV,{children:(0,a.jsx)(d,{text:o,triggerRef:f,id:x,state:h})})]})}},68398:function(e,t,l){l.d(t,{b:function(){return n}});var a=l(93967);let n=l.n(a)()("mx-[-16px] w-[calc(100%+32px)]")},50502:function(e,t,l){l.d(t,{w:function(){return s}});var a=l(49870),n=l(51854),r=l(79700),i=l(36971);function s(){let{locale:e}=(0,r.b)(),{data:t,error:l}=(0,a.Z)("/_api/get_edit_article?lang=".concat(e),n._);return(0,i.B0)(t,l,"fail in useEditArticle")}},19817:function(e,t,l){l.d(t,{x:function(){return s}});var a=l(49870),n=l(51854),r=l(79700),i=l(36971);function s(){let{locale:e}=(0,r.b)(),{data:t,error:l}=(0,a.Z)("/_api/get_sidebar?lang=".concat(e),n._);return(0,i.B0)(t,l,"fail in useSidebarList")}},88509:function(e,t,l){l.d(t,{u:function(){return D}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(19521),o=l(40260),c=l(19817),d=l(79700),u=l(25339),m=l(23725),x=l(36971),h=l(30227),p=n.memo(function(e){let{t}=(0,d.b)(),{data:l,error:n}=(0,c.x)();(0,x.zz)(n);let r="new"===e.showMode?l.newArticles:l.updatedArticles,s=t("new"===e.showMode?"pages.article.RecentArticles":"pages.article.UpdatedArticles");return(0,a.jsxs)("section",{className:"mt-8",children:[(0,a.jsx)("h2",{className:i()("typography-16","font-bold","text-text1","mb-16"),children:s}),(0,a.jsx)("ul",{className:i()(u.w,"p-0","mb-16"),children:r.map((t,l)=>(0,a.jsxs)("li",{className:"list-none",children:[(0,a.jsxs)(o.S,{href:"/a/".concat(encodeURIComponent(t.tagName)),"data-gtm-class":"new"===e.showMode?"side-menu_article-created":"side-menu_aricle-updated",className:i()("block","hover:text-text2"),children:[(0,a.jsx)("img",{alt:"",src:t.imageUrl,className:i()("w-[40px]","h-40","rounded-[8px]","mr-16","float-left","object-cover")}),(0,a.jsx)("div",{className:i()("typography-14","font-bold","text-text2","py-4","truncate"),children:t.tagName})]}),(0,a.jsx)("div",{className:i()("typography-12","text-text3","py-4"),children:"new"===e.showMode?null!==t.createdAt&&(0,m.St)((0,h.I)(t.createdAt)):null!==t.updatedAt&&(0,m.St)((0,h.I)(t.updatedAt))})]},"".concat(t.imageUrl,"_").concat(l)))})]})}),f=l(71205),g=l(52344),b=l(25814),v=n.memo(function(){let{t:e}=(0,d.b)(),{data:t,error:l}=(0,c.x)(),[r,s]=(0,n.useState)(!0),o=(0,n.useCallback)(e=>()=>s(e),[]);return void 0!==l?null:(0,a.jsxs)("section",{className:"mt-8",children:[(0,a.jsx)("h2",{className:i()("typography-16","font-bold","text-text1","mb-16"),children:e("pages.article.popularArticles")}),(0,a.jsx)("nav",{children:(0,a.jsxs)(y,{children:[(0,a.jsx)("li",{className:i()("typography-16","font-bold","text-text1","flex w-full list-none appearance-none justify-center"),children:(0,a.jsxs)("a",{className:C(r),onClick:o(!0),children:[(0,a.jsx)("span",{className:"screen4:hidden",children:e("pages.article.popularArticlesWeekly")}),(0,a.jsx)("span",{className:i()("hidden","screen4:inline"),children:e("pages.article.popularArticlesWeeklyShort")})]})}),(0,a.jsx)("li",{className:i()("typography-16","font-bold","text-text1","flex w-full list-none appearance-none justify-center"),children:(0,a.jsxs)("a",{className:C(!r),onClick:o(!1),children:[(0,a.jsx)("span",{className:"screen4:hidden",children:e("pages.article.popularArticlesMonthly")}),(0,a.jsx)("span",{className:i()("hidden","screen4:inline"),children:e("pages.article.popularArticlesMonthlyShort")})]})})]})}),(0,a.jsx)(w,{hidden:!r,children:t.weeklyRanking.map((e,t)=>(0,a.jsx)(j,{item:e},"".concat(e.imageUrl,"_").concat(t)))}),(0,a.jsx)(w,{hidden:r,children:t.monthlyRanking.map((e,t)=>(0,a.jsx)(j,{item:e},"".concat(e.imageUrl,"_").concat(t)))})]})});function j(e){return(0,a.jsx)(N,{children:(0,a.jsxs)(o.S,{href:"/a/".concat(encodeURIComponent(e.item.tagName)),"data-gtm-class":"side-menu_article-ranking",className:i()("flex","w-full","hover:text-text2"),children:[(0,a.jsx)("img",{className:i()("mr-16","rounded-8","flex","w-[40px]","h-40"),alt:"",src:e.item.imageUrl}),(0,a.jsx)(k,{children:(0,a.jsx)(_,{children:(0,a.jsx)("div",{className:i()("typography-14","font-bold","text-text2","py-4","line-clamp-1"),children:e.item.tagName})})})]})})}let y=s.ZP.ul.withConfig({componentId:"sc-b83a2494-0"})(["display:flex;padding-left:0;margin:0;box-sizing:border-box;list-style:none;overflow:hidden;height:48px;"]),w=e=>{let{hidden:t,children:l}=e;return(0,a.jsx)("ul",{className:i()(u.w,"m-0","p-0",t&&"!hidden"),children:l})},N=s.ZP.li.withConfig({componentId:"sc-b83a2494-1"})(["justify-content:start;display:flex;&:last-child{margin-bottom:16px;}"]),k=s.ZP.div.withConfig({componentId:"sc-b83a2494-2"})(["display:flex;align-items:center;width:100%;"]),_=s.ZP.div.withConfig({componentId:"sc-b83a2494-3"})(["display:inline-block;vertical-align:middle;"]),C=e=>i()("flex","justify-center","items-center","relative","cursor-pointer","no-underline","text-center","h-full","w-full",["before:content-['']",e?"before:block":"before:hidden","before:absolute","before:left-1/2","before:transform","before:-translate-x-1/2","before:top-0","before:max-w-[128px]","screen4:max-w-[80px]","before:w-full","before:h-[4px]","before:bg-[#0096fa]"]);var S=l(5837),I=l(87481),P=l(43330),Z=l(53217),A=l(77221),E=l(77209),M=l(5310),U=l(35544);function L(){return(0,a.jsxs)(O,{children:[(0,a.jsx)(M.o,{}),(0,a.jsx)("ul",{className:i()("mt-16","mb-0","p-0","text-text3","flex","flex-wrap","gap-y-[8px]","gap-x-[16px]"),children:(0,a.jsx)("li",{className:i()("ml-auto","flex"),children:(0,a.jsx)(U.Z,{})})})]})}let O=s.ZP.div.withConfig({componentId:"sc-362d9791-0"})(["display:flex;flex-wrap:wrap;justify-content:space-between;"]);var T=l(42694);let D=(0,n.forwardRef)(function(e,t){let{mode:l,data:n}=e,{locale:r}=(0,d.b)(),s=i()("flex w-col-span-3 flex-col pt-16 screen3:w-col-span-2 screen2:hidden");return"blank"===l?(0,a.jsxs)("aside",{className:s,children:[(0,a.jsx)(g.X,{}),(0,a.jsx)("div",{className:"mb-16"}),(0,a.jsx)(b.Z,{}),(0,a.jsx)(p,{showMode:"updated"}),(0,a.jsx)(p,{showMode:"new"})]}):(0,a.jsxs)("aside",{className:s,children:["latest"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.E,{}),(0,a.jsx)(L,{})]}),("latest"===l||"archive"===l)&&(0,a.jsxs)("div",{className:"mt-16 flex flex-wrap items-center justify-between gap-[16px]",children:["latest"===l&&(0,a.jsx)(R,{tagName:n.tagName}),(0,a.jsx)(T.Z,{})]}),(0,a.jsx)("div",{className:"latest"===l||"archive"===l?"mt-16":"",children:(0,a.jsx)(P.Z,{tagName:n.translatedTagName,IsOpenInNewTab:"draft"===l,tagClassName:G,gtmClassName:"en"===r?"side-menu_article":"side-menu_article-en",createClassName:G,createHref:"draft"===l?"#":""})}),("latest"===l||"archive"===l)&&n.ads&&(0,a.jsx)(I.Z,{className:"mt-[32px] h-[240px] screen3:h-[154px]",query:{zoneId:"d_rectangle",ng:n.ads},targetScreen:"desktop",sizingMethod:"scaled_by_parent_width",defaultWidth:300,defaultHeight:250}),(0,a.jsx)(S.Z,{mode:l,data:n}),"latest"===l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{}),(0,a.jsx)(v,{}),(0,a.jsx)(p,{showMode:"updated"}),(0,a.jsx)(p,{showMode:"new"})]}),("latest"===l||"archive"===l)&&n.ads&&(0,a.jsx)(F,{ref:t,children:(0,a.jsx)(I.Z,{className:"w-full",query:{zoneId:"d_rectangle_side_bottom",ng:n.ads},targetScreen:"desktop",sizingMethod:"scaled_by_parent_width",defaultWidth:300,defaultHeight:600})})]})}),R=e=>{var t;let{tagName:l}=e,{t:n}=(0,d.b)(),{encodedTagName:r,tagName:i}=(0,E.A)(l),{data:s}=(0,A.A)(i);return(0,a.jsxs)("div",{className:"flex items-center gap-[4px] text-text3",children:[(0,a.jsx)(Z.Z,{name:"24/Calendar",fixedSize:16}),(0,a.jsx)(o.S,{className:"typography-14 preserve-half-leading",rel:"nofollow",href:"/history/list/".concat(r),children:n("pages.article.updateDate",{lastUpdatedAt:null!==(t=null==s?void 0:s.lastUpdatedAt)&&void 0!==t?t:""})})]})},G=i()("typography-14 preserve-half-leading","flex h-full items-center","cursor-pointer text-dlink no-underline hover:text-dlink-hover hover:underline active:text-dlink-active active:underline"),F=s.ZP.div.withConfig({componentId:"sc-f060590a-0"})(["width:100%;position:sticky;top:0;transition:top 0.3s ease;"])},29118:function(e,t,l){l.d(t,{Bb:function(){return _},Vd:function(){return C}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(43330),o=l(72444),c=l(78043),d=l(53217),u=l(79225),m=l(43205),x=l(40260),h=l(69519),p=l(17060),f=l(77221),g=l(50502),b=l(33530),v=l(79700),j=l(77209),y=l(71205),w=l(5310),N=l(42694),k=l(42457);t.ZP=n.memo(function(){var e;let{locale:t,t:l}=(0,v.b)(),[n]=(0,b.c)(),{data:r}=(0,p.u)(n),{encodedTagName:h,tagName:g}=(0,j.A)(null==r?void 0:r.tagName),{data:_}=(0,f.A)(g),C=(0,o.Z)(g);return(0,a.jsxs)("div",{className:"mt-24 hidden w-full screen2:block",id:"article-action",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(c.ZP,{}),(0,a.jsxs)("ul",{className:i()("p-0","text-text3","flex","gap-[16px]"),children:[(0,a.jsx)("li",{className:"flex",children:(0,a.jsx)(m.Z,{className:i()("flex","items-center","text-black"),href:C,target:"_blank","data-gtm-class":"article-top_x-share",children:(0,a.jsx)(u.g,{fill:"currentColor",size:24})})}),(0,a.jsx)("li",{className:"flex",children:(0,a.jsx)(k.M,{})})]})]}),(0,a.jsx)(y.E,{}),(0,a.jsx)(w.o,{}),(0,a.jsxs)("div",{className:i()("flex","items-center","gap-[16px]","mt-16"),children:[(0,a.jsxs)("div",{className:i()(["typography-14","text-text3"],["flex","items-center"]),children:[(0,a.jsx)(d.Z,{name:"24/Calendar",fixedSize:16}),(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)(x.S,{href:"/history/list/".concat(h),className:i()("no-underline","flex","items-center"),children:l("pages.history.updated",{days:null!==(e=null==_?void 0:_.lastUpdatedAt)&&void 0!==e?e:""})})})]}),(0,a.jsx)(N.Z,{}),(0,a.jsx)(s.Z,{tagName:null==r?void 0:r.translatedTagName,tagClassName:S,gtmClassName:"en"===t?"side-menu_article":"side-menu_article-en",createClassName:S})]})]})});let _=n.memo(function(){let{locale:e}=(0,v.b)(),[t]=(0,b.c)(),{data:l}=(0,p.u)(t);return(0,a.jsxs)("div",{className:"mt-24 hidden w-full gap-[16px] screen2:flex",id:"article-action",children:[(0,a.jsx)(N.Z,{}),(0,a.jsx)(s.Z,{tagName:null==l?void 0:l.translatedTagName,tagClassName:S,gtmClassName:"en"===e?"side-menu_article":"side-menu_article-en",createClassName:S})]})}),C=n.memo(function(){let e=(0,h.d)(),{data:t}=(0,g.w)();return(0,a.jsx)("div",{className:i()("mt-24 w-full gap-[16px]",e?"flex":"hidden screen2:flex"),id:"article-action",children:(0,a.jsx)(s.Z,{tagName:null==t?void 0:t.translatedTagName,IsOpenInNewTab:!0,tagClassName:S,createClassName:S,createHref:"#"})})}),S=i()("text-[14px]","cursor-pointer","h-full","flex","items-center",["text-dlink","no-underline"],["hover:text-dlink-hover","hover:underline"],["active:text-dlink-active","active:underline"])},71205:function(e,t,l){l.d(t,{E:function(){return u}});var a=l(85893),n=l(93967),r=l.n(n),i=l(33528),s=l(55780),o=l(79700),c=l(77209),d=l(92308);function u(){let{encodedTagName:e}=(0,c.A)(),[t,l]=(0,s.p)({type:"error"}),{t:n}=(0,o.b)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:r()("flex","gap-[8px]",["flex-col","screen2:flex-row"]),children:[(0,a.jsx)(d.Z,{showErrorToast:l}),(0,a.jsx)(i.Q,{fullWidth:!0,rel:"nofollow",href:"/history/list/".concat(e),children:n("pages.article.editHistory")})]}),t]})}},5310:function(e,t,l){l.d(t,{o:function(){return p}});var a=l(85893);l(67294);var n=l(93967),r=l.n(n),i=l(19521),s=l(53217),o=l(40260),c=l(17060),d=l(77221),u=l(79700),m=l(77209),x=l(98674),h=l(60182);function p(){var e,t,l,n,i,p,g;let{t:b,locale:v}=(0,u.b)(),{encodedTagName:j,tagName:y}=(0,m.A)(),{data:w}=(0,d.A)(y),{data:N}=(0,c.u)(j),k=(0,h.V)((0,h.U)(null!==(e=null==N?void 0:N.translatedTagName)&&void 0!==e?e:""));return(0,a.jsxs)("ul",{className:r()("mt-16","mb-0","p-0","text-text3","flex","flex-wrap","gap-[16px]"),children:[(0,a.jsxs)(f,{title:"".concat(b("pages.article.views"),": ").concat((0,x._)(null!==(t=null==w?void 0:w.articleViewCount)&&void 0!==t?t:0)),children:[(0,a.jsx)(s.Z,{name:"16/View"}),(0,a.jsx)("div",{className:"typography-14",children:(0,x._)(null!==(l=null==w?void 0:w.articleViewCount)&&void 0!==l?l:0)})]}),(0,a.jsx)(f,{children:(0,a.jsxs)(o.S,{href:"/comment/view/".concat(j),title:"".concat(b("pages.article.numberOfComments"),": ").concat((0,x._)(null!==(n=null==w?void 0:w.commentCount)&&void 0!==n?n:0)),"data-gtm-class":"article-body_comment-count",className:r()("flex","gap-[4px]","items-center"),children:[(0,a.jsx)(s.Z,{name:"16/Comment",className:"text-text3"}),(0,a.jsx)("div",{className:"typography-14",children:(0,x._)(null!==(i=null==w?void 0:w.commentCount)&&void 0!==i?i:0)})]})}),(0,a.jsx)(f,{children:(0,a.jsxs)(o.S,{href:"https://www.pixiv.net/tags.php?tag=".concat("en"===v&&k?k:j),target:"_blank",title:b("pages.article.worksSubmitted",{tagName:y,totalNumberOfWorks:(0,x._)(null!==(p=null==w?void 0:w.pixivWorkCount)&&void 0!==p?p:0)}),"data-gtm-class":"pixiv-posted-count",className:r()("flex","gap-[4px]","items-center"),children:[(0,a.jsx)(s.Z,{name:"24/NewServicePixiv",fixedSize:16,className:"text-text3"}),(0,a.jsx)("div",{className:"typography-14",children:(0,x._)(null!==(g=null==w?void 0:w.pixivWorkCount)&&void 0!==g?g:0)})]})})]})}let f=i.ZP.li.withConfig({componentId:"sc-89b5cc20-0"})(["display:flex;align-items:center;gap:4px;"])},92308:function(e,t,l){var a=l(85893),n=l(67294),r=l(11163),i=l(87431),s=l(93967),o=l.n(s),c=l(56102),d=l(55077),u=l(17060),m=l(36502),x=l(79700),h=l(77209);t.Z=(0,n.memo)(function(e){let t=(0,c.Y)(),l=(0,c.v)(),i=(0,r.useRouter)(),{t:s}=(0,x.b)(),{encodedTagName:o}=(0,h.A)(),{data:f}=(0,u.u)(o),g=(0,m.n)(),b=(0,d.EZ)(),v=(0,n.useCallback)(a=>{if(!g){a.preventDefault(),b("/ae/".concat(o));return}if(!(null==f?void 0:f.isEditable)){e.showErrorToast("特定のアカウントのみが編集可能なページです");return}if(!t){e.showErrorToast(l);return}i.push("/ae/".concat(o))},[null==f?void 0:f.isEditable,o,e,i,g,b]);return(0,a.jsx)(p,{fullWidth:!0,onClick:v,"data-gtm-class":"article_edit",children:s("pages.history.edit")})});let p=e=>{let{children:t,...l}=e;return(0,a.jsx)(i.zx,{className:o()(["text-text2","typography-14","font-bold"],"no-underline","flex"),...l,children:t})}},33528:function(e,t,l){l.d(t,{Q:function(){return o}});var a=l(85893),n=l(87431),r=l(93967),i=l.n(r),s=l(43205);let o=e=>{let{children:t,href:l,...r}=e;return(0,a.jsx)(s.Z,{passHref:!0,legacyBehavior:!0,href:l,children:(0,a.jsx)(n.zx,{className:i()(["text-text2","typography-14","font-bold"],"flex","no-underline"),to:l,...r,children:t})})}},35544:function(e,t,l){var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(19521),o=l(72444),c=l(79225),d=l(43205),u=l(79700),m=l(77209),x=l(42457);t.Z=n.memo(function(){let{t:e}=(0,u.b)(),{tagName:t}=(0,m.A)(),l=(0,o.Z)(t);return(0,a.jsxs)("ul",{className:i()("p-0","text-text3","flex","gap-[16px]"),children:[(0,a.jsx)(h,{children:(0,a.jsx)(d.Z,{className:i()(["flex","items-center"],"!text-black","hover:underline","[&>div]:text-link1"),href:l,target:"_blank",title:e("pages.article.shareOnX"),"data-gtm-class":"article-top_x-share",children:(0,a.jsx)(c.g,{fill:"currentColor",size:24})})}),(0,a.jsx)(h,{children:(0,a.jsx)(x.M,{})})]})});let h=s.ZP.li.withConfig({componentId:"sc-843c8049-0"})(["display:flex;"])},52344:function(e,t,l){l.d(t,{X:function(){return d}});var a=l(85893);l(67294);var n=l(19521),r=l(53217),i=l(43205),s=l(77221),o=l(77209),c=l(98674);function d(){var e,t;let{encodedTagName:l,tagName:n}=(0,o.A)(),{data:i}=(0,s.A)(n);return(0,a.jsx)(u,{children:(0,a.jsx)(x,{children:(0,a.jsxs)(m,{href:"https://www.pixiv.net/tags.php?tag=".concat(l),target:"_blank",title:"".concat(n,"のタグでpixivに投稿された作品数: ").concat((0,c._)(null!==(e=null==i?void 0:i.pixivWorkCount)&&void 0!==e?e:0)),"data-gtm-class":"pixiv-posted-count",children:[(0,a.jsx)(r.Z,{name:"24/NewServicePixiv",fixedSize:16,className:"text-text3"}),(0,a.jsx)(h,{children:(0,c._)(null!==(t=null==i?void 0:i.pixivWorkCount)&&void 0!==t?t:0)})]})})})}let u=n.ZP.ul.withConfig({componentId:"sc-5e0651d9-0"})(["color:",";line-height:22px;padding:initial;margin:initial;display:flex;flex-wrap:wrap;gap:8px 16px;"],e=>{let{theme:t}=e;return t.color.text3}),m=(0,n.ZP)(i.Z).withConfig({componentId:"sc-5e0651d9-1"})(["color:",";text-decoration:none;display:flex;align-items:center;gap:4px;:hover{text-decoration:underline;}"],e=>{let{theme:t}=e;return t.color.text3}),x=n.ZP.li.withConfig({componentId:"sc-5e0651d9-2"})(["display:flex;align-items:center;gap:4px;"]),h=n.ZP.div.withConfig({componentId:"sc-5e0651d9-3"})(["font-size:","px;color:",";"],e=>{let{theme:t}=e;return t.typography.size[14].fontSize},e=>{let{theme:t}=e;return t.color.link1})},35655:function(e,t,l){l.d(t,{Y:function(){return x}});var a=l(85893),n=l(93967),r=l.n(n),i=l(19521),s=l(40260),o=l(69519),c=l(19817),d=l(25339),u=l(23725),m=l(30227);function x(){let e=(0,o.d)(),{data:t,error:l}=(0,c.x)();return void 0!==l?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:r()("typography-16","font-bold","text-text1","mb-16"),children:"pixivision"}),(0,a.jsx)("ul",{className:r()(d.w,"m-0","p-0"),children:t.latestPixivisionArticles.map((t,l)=>e?(0,a.jsx)("li",{className:"flex justify-start last:mb-0",children:(0,a.jsxs)(s.S,{href:t.href,target:"_blank","gtm-class":"side-menu_pixivision",className:r()("flex","w-full","hover:text-text2"),children:[(0,a.jsx)("img",{className:r()("mr-16","rounded-8","flex","w-[40px]","h-40","object-cover"),alt:"",src:t.imageUrl}),(0,a.jsx)(h,{children:(0,a.jsxs)(p,{children:[(0,a.jsx)("div",{className:r()("line-clamp-1","typography-14","font-bold","text-text2","preserve-half-leading"),children:t.title}),(0,a.jsx)("div",{className:r()("typography-12","text-text3","py-4"),children:(0,u.St)((0,m.I)(t.date))})]})})]})},"".concat(t.imageUrl,"_").concat(l)):(0,a.jsxs)("li",{className:r()("list-none","last:mb-16"),children:[(0,a.jsxs)(s.S,{href:t.href,target:"_blank","gtm-class":"side-menu_pixivision",className:r()("block","hover:text-text2"),children:[(0,a.jsx)("img",{alt:"",src:t.imageUrl,className:r()("w-[40px]","h-40","rounded-8","mr-16","float-left","object-cover")}),(0,a.jsx)("div",{className:r()("typography-14","font-bold","text-text2","py-4","truncate"),children:t.title})]}),(0,a.jsx)("div",{className:r()("typography-12","text-text3","py-4"),children:(0,u.St)((0,m.I)(t.date))})]},"".concat(t.imageUrl,"_").concat(l)))})]})}let h=i.ZP.div.withConfig({componentId:"sc-e410c71-0"})(["display:flex;align-items:center;width:100%;"]),p=i.ZP.div.withConfig({componentId:"sc-e410c71-1"})(["display:inline-block;vertical-align:middle;"])},67715:function(e,t,l){l.d(t,{B:function(){return d}});var a=l(85893);l(67294);var n=l(93967),r=l.n(n),i=l(43205),s=l(40260),o=l(17060),c=l(77209);function d(){let{encodedTagName:e}=(0,c.A)(),{data:t}=(0,o.u)(e);return void 0===t||null===t.relatedPixivisionArticle?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:r()("typography-16","text-text1","mb-16"),children:"pixivisionの関連記事"}),(0,a.jsxs)("div",{className:r()("mb-24","pb-8",["flex","justify-start","items-center"]),children:[(0,a.jsx)(s.S,{href:t.relatedPixivisionArticle.href,target:"_blank","gtm-class":"side-menu_related-pixivision",children:(0,a.jsx)("img",{className:r()("mr-16","rounded-8","flex","w-[40px]","h-40"),alt:"",src:t.relatedPixivisionArticle.imageUrl})}),(0,a.jsx)(i.Z,{className:r()(["line-clamp-2","typography-14","font-bold","text-text2","preserve-half-leading"],["no-underline","hover:underline"]),href:t.relatedPixivisionArticle.href,target:"_blank","gtm-class":"side-menu_related-pixivision",children:t.relatedPixivisionArticle.catchphrase+t.relatedPixivisionArticle.pure_title})]})]})}},25814:function(e,t,l){var a=l(85893),n=l(67294),r=l(17060),i=l(77209),s=l(35655),o=l(67715);t.Z=n.memo(function(){let{encodedTagName:e}=(0,i.A)(),{data:t}=(0,r.u)(e);return(0,a.jsxs)("section",{className:"mt-8",children:[(null==t?void 0:t.relatedPixivisionArticle)?(0,a.jsx)(o.B,{}):null,(0,a.jsx)(s.Y,{})]})})},5837:function(e,t,l){l.d(t,{Z:function(){return v}});var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(19521),o=l(40260);function c(e){let{item:t,index:l,isGrid:n,moreCount:r,isMoreClick:i,dataGtmClassName:s,isExternal:o}=e;return null!==l?(0,a.jsx)(h,{isGrid:n,moreChild:!(l>r)||i,children:(0,a.jsx)(d,{item:t,dataGtmClassName:s,isExternal:o})}):(0,a.jsx)(x,{children:(0,a.jsx)(d,{item:t,dataGtmClassName:s,isExternal:o})})}let d=n.memo(function(e){let{item:t,dataGtmClassName:l,isExternal:r}=e,[s,c]=(0,n.useState)(!1),d=()=>c(!0),u=()=>c(!1),m=r?{target:"_blank"}:{};return(0,a.jsxs)("div",{className:i()("flex","h-64"),children:[(0,a.jsx)(o.S,{href:"/a/".concat(encodeURIComponent(t.tagName)),"data-gtm-class":l,className:i()("hover:text-text2","active:text-text2",{"hover:text-text2":s}),onMouseEnter:d,onMouseLeave:u,...m,children:(0,a.jsx)("img",{src:t.imageUrl,className:i()("w-64","h-64","rounded-8","mr-16")})}),(0,a.jsxs)("div",{className:i()("flex","justify-center","flex-col","block"),children:[(0,a.jsx)(o.S,{href:"/a/".concat(encodeURIComponent(t.tagName)),"data-gtm-class":l,alwaysShowUnderline:s,className:i()("line-clamp-1 w-fit max-w-[236px] break-all py-4 font-bold text-text2 typography-14 hover:text-text2 active:text-text2",s&&"underline"),onMouseEnter:d,onMouseLeave:u,...m,children:t.tagName}),(0,a.jsx)(o.S,{href:"/a/".concat(encodeURIComponent(t.tagName)),"data-gtm-class":l,alwaysShowUnderline:s,className:i()("line-clamp-1 w-fit max-w-[236px] py-4 text-text3 typography-12 hover:text-text3",s&&"underline"),onMouseEnter:d,onMouseLeave:u,...m,children:t.yomigana})]})]})});function u(e){let{item:t,index:l,isGrid:n,moreCount:r,isMoreClick:i,dataGtmClassName:s,isExternal:o}=e;return null!==l?(0,a.jsx)(h,{isGrid:n,moreChild:!(l>r)||i,children:(0,a.jsx)(m,{item:t,dataGtmClassName:s,isExternal:o})},"".concat(t.imageUrl,"_").concat(l)):(0,a.jsx)(x,{children:(0,a.jsx)(m,{item:t,dataGtmClassName:s,isExternal:o})})}let m=n.memo(function(e){let{item:t,dataGtmClassName:l,isExternal:n}=e;return(0,a.jsxs)(o.S,{href:"/a/".concat(encodeURIComponent(t.tagName)),"data-gtm-class":l,className:i()("flex","w-full","hover:text-text2","active:text-text2"),...n?{target:"_blank"}:{},children:[(0,a.jsx)("img",{alt:"",className:i()("mr-16","rounded-8","w-[64px]","h-64"),src:t.imageUrl}),(0,a.jsx)(p,{children:(0,a.jsxs)(f,{children:[(0,a.jsx)("div",{className:i()("typography-14","text-text2","py-4","line-clamp-1","font-bold","screen2:font-normal"),children:t.tagName}),(0,a.jsx)("div",{className:i()("typography-12","text-text3","py-4","line-clamp-1"),children:t.yomigana})]})})]})}),x=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:i()("mb-8","pb-4","flex","justify-start"),children:t})},h=s.ZP.li.withConfig({componentId:"sc-2702f256-0"})(["justify-content:start;display:",";margin-bottom:4px;&:last-child{margin-bottom:16px;}",""],e=>{let{moreChild:t}=e;return t?"flex":"none"},e=>{let{isGrid:t}=e;return t&&(0,s.iv)(["flex-basis:calc(50% - 12px);&:nth-child(odd){margin-right:24px;}"])}),p=s.ZP.div.withConfig({componentId:"sc-2702f256-1"})(["display:flex;align-items:center;width:100%;"]),f=s.ZP.div.withConfig({componentId:"sc-2702f256-2"})(["display:inline-block;vertical-align:middle;"]);var g=l(69519),b=l(79700),v=n.memo(function(e){var t,l;let{mode:n,data:r,isGrid:s=!1,moreCount:o=2}=e,{t:d}=(0,b.b)(),m=(0,g.d)();return"archive"===n&&void 0===r.relatedArticles||null===r.relatedArticles?null:(0,a.jsxs)("section",{className:"mt-24",children:[(0,a.jsx)("h2",{className:i()("typography-16","font-bold","text-text1","mt-[0.83em]",m?"mb-16":"mb-[0.83em]"),children:d("pages.articleConfirm.relationArticleText")}),r.relatedArticles.parent_article&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"mb-8 mt-8 block font-normal text-text2 typography-14",children:d("pages.articleConfirm.relationParentText")}),m?(0,a.jsx)(u,{item:r.relatedArticles.parent_article,index:null,isGrid:"draft"!==n&&s,moreCount:"draft"===n?0:o,isMoreClick:"draft"!==n,dataGtmClassName:"draft"===n?"":s?"article-bottom_parent-article":"side-menu_parent-article",isExternal:"draft"===n}):(0,a.jsx)(c,{item:r.relatedArticles.parent_article,index:null,isGrid:"draft"!==n&&s,moreCount:"draft"===n?0:o,isMoreClick:"draft"!==n,dataGtmClassName:"draft"===n?"":s?"article-bottom_parent-article":"side-menu_parent-article",isExternal:"draft"===n})]}),"latest"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{title:d("pages.article.relationChildText"),items:null!==(t=r.relatedArticles.child_articles)&&void 0!==t?t:[],isGrid:s,moreCount:o,dataGtmClassName:s?"article-bottom_child-article":"side-menu_child-article"}),(0,a.jsx)(j,{title:d("pages.article.relationSiblingText"),items:null!==(l=r.relatedArticles.sibling_articles)&&void 0!==l?l:[],isGrid:s,moreCount:o,dataGtmClassName:s?"article-bottom_sibling-article":"side-menu_sibling-article"})]})]})});function j(e){let{title:t,items:l,isGrid:r,moreCount:s,dataGtmClassName:o}=e,{t:d}=(0,b.b)(),m=(0,g.d)(),[x,h]=(0,n.useState)(!1),p=(0,n.useCallback)(()=>{h(!0)},[]);return(0,n.useEffect)(()=>{h(!1)},[l]),l.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"mb-8 mt-8 block font-normal text-text2 typography-14",children:t}),(0,a.jsx)("ul",{className:i()("m-0 p-0",r&&["flex","flex-wrap","gap-y-[4px]"]),children:l.map((e,t)=>m?(0,a.jsx)(u,{item:e,index:t,isGrid:r,moreCount:s,isMoreClick:x,dataGtmClassName:o},"".concat(e.imageUrl,"_").concat(t)):(0,a.jsx)(c,{item:e,index:t,isGrid:r,moreCount:s,isMoreClick:x,dataGtmClassName:o},"".concat(e.imageUrl,"_").concat(t)))}),l.length>s+1&&(0,a.jsx)("a",{onClick:p,className:i()(r&&"mt-[10px]",x?"hidden":"flex","mx-auto mb-16 w-fit cursor-pointer justify-center typography-14","no-unrderline text-dlink hover:text-dlink-hover hover:underline active:text-dlink-active active:underline"),"data-gtm-class":"related-article-more",children:d("pages.history.more")})]}):null}},42694:function(e,t,l){var a=l(85893),n=l(67294),r=l(93967),i=l.n(r),s=l(55077),o=l(41638),c=l(17060),d=l(33530),u=l(36502),m=l(79700),x=l(77209);t.Z=n.memo(function(){let{t:e}=(0,m.b)(),[t]=(0,d.c)(),{data:l}=(0,c.u)(t),{tagName:r}=(0,x.A)(null==l?void 0:l.tagName),[h,p]=(0,n.useState)(!1),f=(0,u.n)(),g=(0,s.EZ)(),b=(0,n.useCallback)(e=>{f?p(!0):(e.preventDefault(),g())},[f,g]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:i()("p-0","border-0","inline-block","cursor-pointer","typography-14 preserve-half-leading",["text-left","text-dlink"],"bg-transparent","w-auto","no-underline",["hover:text-dlink-hover","hover:underline","active:text-dlink-active","active:underline"]),onClick:b,children:e("components.modal.reportProblem.title")}),(0,a.jsx)(o.M,{isShow:h,setIsShow:p,tagName:r})]})})},42457:function(e,t,l){l.d(t,{M:function(){return h}});var a=l(85893),n=l(67294),r=l(11163),i=l(19521),s=l(53217),o=l(55780),c=l(69519),d=l(47624),u=l(79700),m=l(77209),x=l(65413);function h(){let e=(0,r.useRouter)(),t=(0,d.$)(),l=(0,c.d)(),{tagName:i}=(0,m.A)(),{locale:h,t:f}=(0,u.b)(),g="ja"===h?"":"/en",[b,v]=(0,o.p)({type:"success"}),[j,y]=(0,o.p)({type:"error"}),w=(0,n.useMemo)(()=>{var a,n;if(!l||!(0,x.A)())return!1;let r="https://".concat(t).concat(g).concat(e.asPath);return!!(navigator.share&&(null===(a=(n=navigator).canShare)||void 0===a?void 0:a.call(n,{title:i,url:r})))},[t,l,g,e.asPath,i]),N=(0,n.useCallback)(async()=>{if(x.A)try{let l="https://".concat(t).concat(g).concat(e.asPath);if(w){await navigator.share({title:i,url:l});return}await navigator.clipboard.writeText(l),v(f("pages.article.copiedLink"))}catch(e){e instanceof DOMException&&"AbortError"===e.name||y(f("pages.article.failedCopy"))}},[t,g,e.asPath,i,w,v,y,f]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{onClick:N,title:w?"":f("pages.article.copyLink"),"data-gtm-class":w?"article-top_link_share":"side-menu_link-copy",children:w?(0,a.jsx)(s.Z,{name:"24/ShareIos"}):(0,a.jsx)(s.Z,{name:"24/Link"})}),b,j]})}let p=i.ZP.button.withConfig({componentId:"sc-365cfafe-0"})(["color:",";margin-left:0;margin-right:0;padding-left:0;padding-right:0;border:none;display:flex;align-items:center;text-decoration:none;cursor:pointer;background:none;"],e=>{let{theme:t}=e;return t.color.text3})},25339:function(e,t,l){l.d(t,{w:function(){return n}});var a=l(93967);let n=l.n(a)()("grid","gap-[16px]","auto-cols-[100%]")},30227:function(e,t,l){l.d(t,{I:function(){return a}});function a(e){if(!/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(e))throw Error("Invalid Format: ".concat(e));let t=new Date("".concat(e.replace(" ","T"),"+09:00"));if(Number.isNaN(t.getTime()))throw Error("Invalid Date: ".concat(e));return t}},21355:function(e,t,l){l.d(t,{t:function(){return a}});function a(e){throw Error(0==arguments.length?"unreachable":"unreachable (".concat(JSON.stringify(e),")"))}}}]);